<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

  <meta http-equiv="Content-Security-Policy" content="default-src 'self' http://development.fthru.cogni.design http://api.edmunds.com/ data: gap: https://ssl.gstatic.com blob:;
                  style-src 'self' http://development.fthru.cogni.design http://api.edmunds.com/ 'unsafe-inline';
                  script-src 'self' http://development.fthru.cogni.design http://api.edmunds.com/ 'unsafe-inline';">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <!-- <head> -->
    <meta charset="utf-8">
    <title>followTHRU</title>

    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, maximum-scale=1.0, user-scalable=0" /> -->
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, target-densitydpi=device-dpi, user-scalable=0" /> -->

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="stylesheet" type="text/css" href="DataTables/datatables.min.css" />
    <link rel="stylesheet" type="text/css" href="DataTables/Buttons-1.1.2/css/buttons.dataTables.min.css" />


    <link rel="stylesheet" type="text/css" href="DataTables/DataTables-1.10.11/css/dataTables.jqueryui.min.css" />
    <link rel="stylesheet" type="text/css" href="DataTables/smooth.css" />

    <link rel="stylesheet" id="extra2" type="text/css" href="css/fthru.css" />
    <link rel="stylesheet" href="css/ratchet.css">
    <link rel="stylesheet" href="css/pageslider.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">



    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/iThing.css" type="text/css" />
    <link rel="stylesheet" href="jquery-ui.css">

    <script src="config.js"></script>
    <script src="jquery.min.js"></script>
    <script src="jquery-ui.min.js"></script>
    <script src="jQRangeSlider-min.js"></script>
    <script src="js/jquery.blockUI.js"></script>
    <script src="jquery.validate.js"></script>
    <script src="additional-methods.min.js"></script>

    <script src="jquery.maskedinput.js"></script>
    <script src="js/taphold.js" type="text/javascript"></script>
    <script type="text/javascript" src="DataTables/DataTables-1.10.11/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="DataTables/Buttons-1.1.2/js/dataTables.buttons.min.js"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script> -->
    <script type="text/javascript" src="DataTables/pdfmake-0.1.18/build/pdfmake.js"></script>
    <script type="text/javascript" src="DataTables/pdfmake-0.1.18/build/vfs_fonts.js"></script>
    <script type="text/javascript" src="DataTables/Buttons-1.1.2/js/buttons.html5.js"></script>
    <script type="text/javascript" src="DataTables/DataTables-1.10.11/js/dataTables.jqueryui.min.js"></script>
    <script type='application/javascript' src='js/fastclick.js'></script>
    <script type='application/javascript' src='js/jquery.doubletap.js'></script>
    <script src="js/jquery.scrollTo.min.js"></script>

    <script>
      var networkcheck = false;
      $(function() {
        FastClick.attach(document.body);
      });


      function initializetables() {

        // $.fn.dataTable.ext.errMode = 'none';
        $.fn.dataTable.ext.errMode = function(settings, helpPage, message) {
          contactsinitialized = false;
          vehiclesinitialized = false;
          checktables();


        };

        inventorytable = $('#exampledt2')
          .DataTable({
            dom: '<"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix ui-corner-tl ui-corner-tr"Bfr>t<"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix ui-corner-bl ui-corner-br"ip>',
            "jQueryUI": true,
            buttons: [

              {
              extend: 'pdfHtml5',
              text: '&#xf1c1;',
              orientation: 'landscape',
              customize: function(doc) {
                doc.images = doc.images || {};
                contactsorvehicles = "myinventory";
                pdfdoc = doc;
                doc.content[1].table.widths = ['auto', '*', '*', '*', '*', '*'];
                doc.content[1].table.alignment = 'center';

                for (var i = 0; i < doc.content[1].table.body[0].length; i++) {
                  var theshiz = doc.content[1].table.body[0][i].text;
                  doc.content[1].table.body[0][i].text = $(theshiz).text();
                  doc.content[1].table.body[0][i].width = '*';
                }
                for (var i = 1; i < doc.content[1].table.body.length; i++) {
                  if (doc.content[1].table.body[i][0].text.indexOf('img src') >= 0) {
                    thischunk = doc.content[1].table.body[i][0].text;
                    thischunk = thischunk.split("style='display:none;'>");
                    thischunk = thischunk[1].split("</span>");
                    thischunk = thischunk[0];
                    thisrow = thischunk;
                    try {
                      delete doc.content[1].table.body[i][0].text;
                      doc.content[1].table.body[i][0].image = my64Images[thisrow];
                      doc.content[1].table.body[i][0].fit = [30, 30];


                    } catch (err) {
                      console.log("error: " + err);
                    }
                  } else {
                    var thecontent = doc.content[1].table.body[i][0].text;
                    var newcontent = $(thecontent).text();
                    doc.content[1].table.body[i][0].text = newcontent;
                    doc.content[1].table.body[i][0].alignment = 'right';
                  }
                }
              },
              exportOptions: {
                stripHtml: false,
                columns: [0, 1, 7, 2, 3, 4]
              }
            }, {
              extend: 'csvHtml5',
              text: '&#xf0ce;',


              exportOptions: {
                columns: [1, 7, 2, 3, 4]
              }


            },
          'pageLength'],

            "lengthMenu": [
              [20, 50, -1],
              [20, 50, "All"]
            ],

            "processing": true,
            "columnDefs": [{
              "render": function(data, type, row) {
                myrow = row[6];
                my64Images[myrow] = data;
                return "<img src=\"" + data + "\" id='inventorypic' style = \"width:25vw !important;\">" + "<span id='vehicleid' style='display:none;'>" + myrow + "</span>";
              },
              "targets": 0
            }, {
              "render": function(data, type, row) {
                return data;
              },
              "targets": 1
            }, {
              "render": function(data, type, row) {
                return data;
              },
              "targets": 2
            }, {
              "render": function(data, type, row) {
                return data;
              },
              "targets": 3
            }, {
              "render": function(data, type, row) {
                return "$" + data;
              },
              "targets": 4
            }, {
              "visible": false,
              "targets": [5, 6, 7]
            }],
            "serverSide": true,
            "ajax": {
              url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/server_processing2.php?id=" + id //,

            },
            "initComplete": function() {
              $('#hide2').css('display', 'block');
              vehiclesinitialized = true;
              checktables();


            },
            language: {

              search: "_INPUT_",
              searchPlaceholder: "Search..."
            }
          });

        contacttable = $('#exampledt')

        .DataTable({
          dom: '<"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix ui-corner-tl ui-corner-tr"Bfr>t<"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix ui-corner-bl ui-corner-br"ip>',
          "jQueryUI": true,
          buttons: [

            {
            extend: 'pdfHtml5',
            text: '&#xf1c1;',
            orientation: 'landscape',
            customize: function(doc) {
              contactsorvehicles = "mycontacts";

              doc.content[1].table.widths = ['auto', '*', '*', '*', '*', '*', '*', '*'];
              doc.content[1].table.alignment = 'center';


            },
            exportOptions: {
              columns: [13, 3, 1, 14, 6, 7, 4, 5]
            }
          }, {
            extend: 'csvHtml5',
            text: '&#xf0ce;',
            exportOptions: {
              columns: [13, 3, 1, 14, 6, 7, 4, 5]
            }


          },
        'pageLength'],
          "lengthMenu": [
            [20, 50, -1],
            [20, 50, "All"]
          ],

          "processing": true,
          "columnDefs": [{
            "render": function(data, type, row) {
              if (row[12] == 0) {
                namecolor = "red;";
              }
              if (row[12] == 1) {
                namecolor = "black;";
              }

              return '<span id="permission" style="display:none;" >' + row[12] + '</span><span style="color:' + namecolor + '">' + data + ' ' + row[3] + '</span><span id="contactid" style="display:none;">' + row[10] + '</span>';
            },
            "targets": 0
          }, {
            "render": function(data, type, row) {
              return '<a href="tel:' + data + '">' + data + '</a>';
            },
            "targets": 1
          }, {
            "render": function(data, type, row) {
              if (row[2] == "Specific") {
                return '<span id="year" style="display:none;">' + row[11] + '</span><span id="make" style="display:none;">' + row[6] + '</span><span id="model" style="display:none;">' + row[7] +
                  '</span><span id="type" style="display:none;">' + row[2] + '</span>' + row[6] + ' ' + row[7] + ' | <br>$' + row[4] + ' - $' + row[5];
              } else {
                return '<span id="type" style="display:none;">' + row[2] + '</span>' + data + ' | <br>$' + row[4] + ' - $' + row[5];
              }
            },
            "targets": 2
          }, {
            "visible": false,
            "targets": [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
          }],
          "serverSide": true,
          "ajax": {
            url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/server_processing.php?id=" + id //,

          },
          "initComplete": function() {
            $('#hide').css('display', 'block');
            contactsinitialized = true;
            checktables();

          },
          language: {

            search: "_INPUT_",
            searchPlaceholder: "Search..."
          }
        });



        $('#exampledt2 tbody').on('doubletap', 'tr', function() {
          if ($(this).hasClass('selected')) {
            $('#exampledt2').find(".editdelete").remove();
            $(this).removeClass('selected');
          } else {
            $('#exampledt2').find(".editdelete").remove();
            inventorytable.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');


            vehicleid = $(this).find("#vehicleid").text();

            $(
              "<tr class='editdelete'><td colspan=100><center><button id='deletebutton' class='bluebtn2 myinputs' style='font-family: FontAwesome;' onclick='javascript:deletevehicle(vehicleid)'>&#xf014; Delete</button></center></td></tr>"
            ).insertAfter($(this).closest('tr'));



          }
        });


        $('#exampledt tbody').on('doubletap', 'tr', function() {
          if ($(this).hasClass('selected')) {
            $('#exampledt').find(".editdelete").remove();
            $(this).removeClass('selected');
          } else {
            $('#exampledt').find(".editdelete").remove();
            contacttable.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
            $(
              "<tr class='editdelete'><td colspan=100><table style='width:100%; border: black 1px;'><tr><td style='width:33%;'><button id='editbutton' class='bluebtn2 myinputs' style='font-family: FontAwesome;' onclick='javascript:editcontact(contactid)'>&#xf044; Edit</button></td><td style='width:33%;'><button id ='deletebutton' class='bluebtn2 myinputs' style='font-family: FontAwesome;' onclick='javascript:deletecontact(contactid)'>&#xf014; Delete</button></td><td style='width:33%;'><button id='smsbutton' class='bluebtn2 myinputs' style='font-family: FontAwesome;' onclick='javascript:editpermission(contactid,permission)'>&#xf10b; SMS</button></td></tr></table></td></tr>"
            ).insertAfter($(this).closest('tr'));
            contactid = $(this).find("#contactid").text();
            $('#edit [name="contactid"]').val(contactid);
            name = $('td:first', $(this)).text().replace(/\d+/g, '');
            lname = name.split(" ")[1];
            fname = name.split(" ")[0];
            tel = $(this).children('td').eq(1).text();
            pricerange = $(this).children('td').eq(2).text().split("$");
            pricelow = pricerange[1].split(" ")[0];
            pricehigh = pricerange[2].split("<")[0];
            permission = $(this).find("#permission").text();
            $('#edit [name="firstname"]').val(fname);

            $('#edit [name="lastname"]').val(lname);

            $('#edit [name="phone"]').val(tel);

            $('#edit [name="pricelow"]').val(pricelow);

            $('#edit [name="pricehigh"]').val(pricehigh);


            $('#edit #years').change(function() {
              console.log('Step 1: Year ' + $(this).val() + ' was selected');
              $('#specific2 select').attr('disabled', 'disabled');
              $('#specific3 select').attr('disabled', 'disabled');
              $('#specific2 select').css("opacity", ".4");
              $('#specific3 select').css("opacity", ".4");
              get_makes3($(this).val());
            });

            $('#edit #makes').change(function() {
              console.log('Step 3: Make ' + $(this).val() + ' was selected');
              get_models3($(this).val(), $('#edit #years').val());
            });

            year = $(this).find("#year").text();
            make = $(this).find("#make").text();
            model = $(this).find("#model").text();

            console.log("year: " + year + " make: " + make + " model: " + model);






            $("#edit #cars").removeAttr('disabled');
            $("#edit #trucks").removeAttr('disabled');
            $("#edit #suvs").removeAttr('disabled');
            $("#edit #crossovers").removeAttr('disabled');
            $("#edit #specific1").hide();
            $("#edit #specific2").hide();
            $("#edit #specific3").hide();
            $('#edit #cars').prop('checked', false);
            $('#edit #trucks').prop('checked', false);
            $('#edit #suvs').prop('checked', false);
            $('#edit #crossovers').prop('checked', false);
            $('#edit #specific').prop('checked', false);

            if (year != "") {
              $('#edit [name="years"]').val(year);
              get_makes3(year);




            }


            $("#edit #cars").removeAttr('disabled');
            $("#edit #trucks").removeAttr('disabled');
            $("#edit #suvs").removeAttr('disabled');
            $("#edit #crossovers").removeAttr('disabled');
            $("#edit #specific1").hide();
            $("#edit #specific2").hide();
            $("#edit #specific3").hide();
            $('#edit #cars').prop('checked', false);
            $('#edit #trucks').prop('checked', false);
            $('#edit #suvs').prop('checked', false);
            $('#edit #crossovers').prop('checked', false);
            $('#edit #specific').prop('checked', false);



            $("#edit .specific").change(function() {
              if (this.checked) {
                $("#edit #cars").attr('disabled', 'disabled');
                $("#edit #trucks").attr('disabled', 'disabled');
                $("#edit #suvs").attr('disabled', 'disabled');
                $("#edit #crossovers").attr('disabled', 'disabled');
                $('#edit #cars').prop('checked', false);
                $('#edit #trucks').prop('checked', false);
                $('#edit #suvs').prop('checked', false);
                $('#edit #crossovers').prop('checked', false);


                $("#edit #specific1").css("display", "");
                $("#edit #specific2").css("display", "");
                $("#edit #specific3").css("display", "");
                $('#edit#specific2 select').attr('disabled', 'disabled');
                $('#edit#specific3 select').attr('disabled', 'disabled');
                $('#edit#specific2 select').css("opacity", ".4");
                $('#edit#specific3 select').css("opacity", ".4");

              } else {
                $('#edit #years').val(function() {
                  return $('#edit #years').defaultValue;
                });
                $('#edit #makes').val(function() {
                  return $('#edit #makes').defaultValue;
                });
                $('#edit #models').val(function() {
                  return $('#edit #models').defaultValue;
                });
                $("#edit #cars").removeAttr('disabled');
                $("#edit #trucks").removeAttr('disabled');
                $("#edit #suvs").removeAttr('disabled');
                $("#edit #crossovers").removeAttr('disabled');
                $("#edit #specific1").hide();
                $("#edit #specific2").hide();
                $("#edit #specific3").hide();
              }

            });

            checkboxes = $(this).find("#type").text();
            console.log("type: " + type);
            checkboxesarray = checkboxes.split(",");

            checkboxesarray.forEach(function(entry) {
              if (entry == "Cars") {

                $('#edit #cars').prop('checked', true);
              }
              if (entry == "Trucks") {

                $('#edit #trucks').prop('checked', true);
              }
              if (entry == "SUVS") {

                $('#edit #suvs').prop('checked', true);
              }
              if (entry == "Crossovers") {

                $('#edit #crossovers').prop('checked', true);
              }
              if (entry == "Specific") {

                $('#edit #specific').prop('checked', true);
                $("#edit #cars").attr('disabled', 'disabled');
                $("#edit #trucks").attr('disabled', 'disabled');
                $("#edit #suvs").attr('disabled', 'disabled');
                $("#edit #crossovers").attr('disabled', 'disabled');
                $('#edit #cars').prop('checked', false);
                $('#edit #trucks').prop('checked', false);
                $('#edit #suvs').prop('checked', false);
                $('#edit #crossovers').prop('checked', false);


                $("#edit #specific1").css("display", "");
                $("#edit #specific2").css("display", "");
                $("#edit #specific3").css("display", "");

              }
            });





          }
        });
      }


      function working(onoroff) {
        var instruction = onoroff;


        if (instruction == "on") {
          $("#working").show();
        }
        if (instruction == "off") {
          $("#working").hide();
        } else {
          console.log("invalid parameter for the working function");
          return false;
        }

      }

      function errorMsg(msg, timeout) {
        $.blockUI({
          message: msg,
          css: {
            border: 'none',
            padding: '15px',
            backgroundColor: '#880000',
            '-webkit-border-radius': '10px',
            '-moz-border-radius': '10px',
            color: '#fff'
          }
        });

        if (timeout > 0)
          setTimeout($.unblockUI, timeout);
      };

      function okMsg(msg, timeout, callback) {
        $.blockUI({
          message: msg,
          css: {
            border: 'none',
            padding: '15px',
            backgroundColor: '#000',
            '-webkit-border-radius': '10px',
            '-moz-border-radius': '10px',
            color: '#fff'
          }
        });

        if (timeout > 0) {
          setTimeout(function() {
              $.unblockUI({
                onUnblock: callback
              });
            },
            timeout);
        }
      };
      var contactsorvehicles;
      var pdfdoc;

      function redrawcontacts() {
        contacttable.draw();
      }

      function redrawinventory() {
        inventorytable.draw();
      }

      function redraw() {
        contacttable.draw();
        inventorytable.draw();
      }

      var contactsinitialized = false;
      var vehiclesinitialized = false;

      var id = localStorage.getItem('id');
      var lastpage = "";
      var currentpage = "";

      var myImages = [];
      var my64Images = [];

      function checktables() {
        if (networkcheck) {
          if (!contactsinitialized || !vehiclesinitialized) {
            $('#connecting').show();
            if (!contactsinitialized) {

              redrawcontacts();
            }



            if (!vehiclesinitialized) {

              redrawinventory();
            }




          } else {
            $('#connecting').hide();
          }
        } else {
          ('#connecting').hide();
        }


      }



      function checkFormInput(field) {
        if ($("#login :input[name='" + field + "']").val().length === 0) {
          errorMsg("All fields are required.", 3000);
          return false;
        }
        return true;
      }

      function checkFormEmail(field) {
        if ($("#forgotForm :input[name='" + field + "']").val().length === 0) {
          errorMsg("All fields are required.", 3000);
          return false;
        }
        return true;
      }

      function checkContactFormInput(field) {
        if ($("#testForm :input[name='" + field + "']").val().length === 0) {
          errorMsg("All fields are required.", 3000);
          return false;
        }
        return true;
      }

      function checkVehicleFormInput(field) {
        if ($("#testForm2 :input[name='" + field + "']").val().length === 0) {
          errorMsg("All fields are required.", 3000);
          return false;
        }
        return true;
      }

      function reg() {
        var pagetarget = $("#page");
        $('#forgot').hide();
        $("#container").css('background-image', 'none');
        $("#regheader").show();
        setTimeout(function() {
          $('#page').scrollTop(0);
          setTimeout(function() {
            document.getElementById('start').style.display = 'none';
            setTimeout(function() {
              pagetarget.css({
                '-webkit-overflow-scrolling': 'auto',
                'overflow-y': 'hidden'
              });


              setTimeout(function() {

                document.getElementById('reg').style.display = '';
                setTimeout(function() {
                  pagetarget.scrollTop(0);
                  setTimeout(function() {
                    pagetarget.css({
                      '-webkit-overflow-scrolling': 'touch',
                      'overflow-y': 'auto'
                    });
                    $('#slider').rangeSlider('resize');



                  }, 0);
                }, 0);

              }, 0);
            }, 0);

          }, 0);
        }, 0);


      }

      function forgotpass() {
        if (!checkFormEmail("email")) return false;
        $.blockUI({
          css: {
            border: 'none',
            padding: '15px',
            backgroundColor: '#000',
            '-webkit-border-radius': '10px',
            '-moz-border-radius': '10px',
            color: '#fff'
          }
        });
        var serializedData = $("#forgotForm").serialize();

        var request = $.ajax({
          url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/forgotpass.php",
          type: "POST",
          data: serializedData
        });

        request.done(function(response, status, jqXHR) {

          // alert(jqXHR.status);
          // alert(JSON.stringify(response));
          // alert(JSON.stringify(status));
          // alert(JSON.stringify(jqXHR));
          if (jqXHR.status == '200') {
            $.unblockUI();
            okMsg("Your Password Reset Link has Sent!", 2000, function() {
              $("#forgotForm")[0].reset();
            });
            return false;
          } else {
            errorMsg("Unknown Response. Try again later.", 3000);
            $("#forgotForm")[0].reset();
            return false;
          }

        });

        request.fail(function(jqXHR, textStatus, errorThrown) {
          console.error(
            "The following error occured: " +
            textStatus, errorThrown
          );
          if (jqXHR.status == '401') {
            $.unblockUI();

            errorMsg("This email is not registed with an fTHRU account.", 3000);
            $("#forgotForm")[0].reset();
            return false;
          }
          if (jqXHR.status == '406') {
            $.unblockUI();
            errorMsg("Invalid email address. Please type a valid email.", 3000);
            $("#forgotForm")[0].reset();
            return false;
          } else {
            $.unblockUI();
            errorMsg("Unknown error. Try again later.", 3000);
            $("#forgotForm")[0].reset();
            return false;
          }
        });

      }

      function processLogin() {
        if (!checkFormInput("email")) return false;
        if (!checkFormInput("password")) return false;

        $.blockUI({
          css: {
            border: 'none',
            padding: '15px',
            backgroundColor: '#000',
            '-webkit-border-radius': '10px',
            '-moz-border-radius': '10px',
            color: '#fff'
          }
        });

        var serializedData = $("#loginForm").serialize();

        var request = $.ajax({
          url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/login.php",
          type: "POST",
          data: serializedData
        });

        request.done(function(response, status, jqXHR) {

          if (response == "DELETED") {
            errorMsg("This account has been deleted. Please contact Admin to see about restoring this account.", 6000);
            return false;

          }
          if (response != "NOTHING") {
            $.unblockUI();
            //alert(response["user"]);
            //alert(JSON.stringify(arguments));

            localStorage.setItem("id", response["user"]);
            id = localStorage.getItem('id');
            networkcheck = true;
            $("#forgot").hide();
            var pagetarget = $("#page");
            $("#container").css('background-image', 'none');
            initializetables();
            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                document.getElementById('start').style.display = 'none';
                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_map').addClass('active');
                    setTimeout(function() {

                      document.getElementById('home').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });
                          $('#slider').rangeSlider('resize');



                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);

            $('#appheader').show();
            loadsettings("first");


            return false;
          }


          if (response == "NOTHING") {
            errorMsg("Failed to log in. Try again.", 3000);
            return false;
          }

          errorMsg("Unknown Response. Try again later.", 3000);
          return false;
        });

        request.fail(function(jqXHR, textStatus, errorThrown) {
          console.error(
            "The following error occured: " +
            textStatus, errorThrown
          );

          errorMsg("Problem with logging in. Try again later.", 3000);
          return false;
        });

        return false;
      };



      const EDMUNDS_API_KEY = FTHRU_SETTINGS.EDMUNDS_API_KEY;

      function get_vin_data(vin) {
        url = 'https://api.edmunds.com/api/vehicle/v2/vins/' + vin + '?fmt=json&api_key=' + EDMUNDS_API_KEY;
        $.ajax({
          type: "POST",
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            year = data.years[0].year;
            make = data.make.niceName;
            model = data.model.niceName;
            $('#home [name="years"]').val(year);

            $(function() {
              get_makes(year).then(function() {
                $('#home [name="makes"]').val(make);
                $('#specific2 select').removeAttr('disabled');
                $('#specific2 select').css("opacity", "1");

                get_models(make, year).then(function() {
                  $('#home [name="models"]').val(model);
                  $('#specific3 select').removeAttr('disabled');
                  $('#specific3 select').css("opacity", "1");



                });
              });
            });


          }
        });
      }


      function get_makes(year) {
        url = 'http://api.edmunds.com/v1/api/vehicle/makerepository/findmakesbymodelyear?year=' + year + '&api_key=' + EDMUNDS_API_KEY + '&fmt=json';
        $.ajax({
          type: "POST",
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            $('#makes').empty();
            $('#makes').append("<option value=''>Select Make</option>");
            $.each(data.makeHolder, function(i, val) {
              $('#makes').append("<option value='" + data.makeHolder[i].niceName + "'>" + data.makeHolder[i].name + "</option>");
            });
            $('#makes').removeAttr('disabled');
            $('#specific2 select').removeAttr('disabled');
            $('#specific2 select').css("opacity", "1");
            console.log('Step 2: Makes select was populated and enabled');
          }
        });
      }

      function get_models(make, year) {
        url = 'http://api.edmunds.com/v1/api/vehicle/modelrepository/findmodelsbymakeandyear?make=' + make + '&year=' + year + '&api_key=' + EDMUNDS_API_KEY + '&fmt=json';
        $.ajax({
          type: "POST",
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            $('#models').empty();
            $('#models').append("<option value=''>Select Model</option>");
            $.each(data.modelHolder, function(i, val) {
              $('#models').append("<option value='" + data.modelHolder[i].niceName + "'>" + data.modelHolder[i].name + "</option>");
            });
            $('#models').removeAttr('disabled');
            $('#specific3 select').removeAttr('disabled');
            $('#specific3 select').css("opacity", "1");
            console.log('Step 4: Models select was populated and enabled');
          }
        });
      }

      function get_styles(make, model, year) {
        url = 'http://api.edmunds.com/v1/api/vehicle/stylerepository/findstylesbymakemodelyear?make=' + make + '&model=' + model + '&year=' + year + '&api_key=' + EDMUNDS_API_KEY + '&fmt=json';
        $.ajax({
          type: "POST",
          timeout: 20000,
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            $('#styles').empty();
            $('#styles').append("<option>Select Trim</option>");
            $.each(data.styleHolder, function(i, val) {
              console.log(data.styleHolder[i]);
              $('#styles').append("<option value='" + data.styleHolder[i].id + "'>" + data.styleHolder[i].name + "</option>");
            });
            $('#styles').removeAttr('disabled');
            console.log('Step 6: Styles(trim) select was populated and enabled');
          }
        });
      }

      function get_style_details(style_id) {
        url = 'http://api.edmunds.com/v1/api/vehicle/stylerepository/findbyid?id=' + style_id + '&api_key=' + EDMUNDS_API_KEY + '&fmt=json';
        $.ajax({
          type: "POST",
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            $('#details').html(JSON.stringify(data.styleHolder[0]));
            console.log('Step 8: Collecting Style/trim data');
          }
        });
      }

      function get_makes1(year) {
        url = 'http://api.edmunds.com/v1/api/vehicle/makerepository/findmakesbymodelyear?year=' + year + '&api_key=' + EDMUNDS_API_KEY + '&fmt=json';
        $.ajax({
          type: "POST",
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            $('#makes1').empty();
            $('#makes1').append("<option value=''>Select Make</option>");
            $.each(data.makeHolder, function(i, val) {
              $('#makes1').append("<option value='" + data.makeHolder[i].niceName + "'>" + data.makeHolder[i].name + "</option>");
            });
            $('#makes1').removeAttr('disabled');

            $('#makes1').css("opacity", "1");
            console.log('Step 2: Makes select was populated and enabled');
          }
        });
      }

      function get_models1(make, year) {
        url = 'http://api.edmunds.com/v1/api/vehicle/modelrepository/findmodelsbymakeandyear?make=' + make + '&year=' + year + '&api_key=' + EDMUNDS_API_KEY + '&fmt=json';
        $.ajax({
          type: "POST",
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            $('#models1').empty();
            $('#models1').append("<option value=''>Select Model</option>");
            $.each(data.modelHolder, function(i, val) {
              $('#models1').append("<option value='" + data.modelHolder[i].niceName + "'>" + data.modelHolder[i].name + "</option>");
            });
            $('#models1').removeAttr('disabled');
            // $('#models1').removeAttr('disabled');
            $('#models1').css("opacity", "1");
            console.log('Step 4: Models select was populated and enabled');
          }
        });
      }

      function get_styles1(make, model, year) {
        url = 'http://api.edmunds.com/v1/api/vehicle/stylerepository/findstylesbymakemodelyear?make=' + make + '&model=' + model + '&year=' + year + '&api_key=' + EDMUNDS_API_KEY + '&fmt=json';
        $.ajax({
          type: "POST",
          timeout: 20000,
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            $('#styles1').empty();
            $('#styles1').append("<option>Select Trim</option>");
            $.each(data.styleHolder, function(i, val) {
              console.log(data.styleHolder[i]);
              $('#styles1').append("<option value='" + data.styleHolder[i].id + "'>" + data.styleHolder[i].name + "</option>");
            });
            $('#styles1').removeAttr('disabled');
            console.log('Step 6: Styles(trim) select was populated and enabled');
          }
        });
      }

      function get_style_details1(style_id) {
        url = 'http://api.edmunds.com/v1/api/vehicle/stylerepository/findbyid?id=' + style_id + '&api_key=' + EDMUNDS_API_KEY + '&fmt=json';
        $.ajax({
          type: "POST",
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            $('#details1').html(JSON.stringify(data.styleHolder[0]));
            console.log('Step 8: Collecting Style/trim data');
          }
        });
      }



      function get_makes3(year) {
        url = 'http://api.edmunds.com/v1/api/vehicle/makerepository/findmakesbymodelyear?year=' + year + '&api_key=' + EDMUNDS_API_KEY + '&fmt=json';
        $.ajax({
          type: "POST",
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            $('#edit #makes').empty();
            $('#edit #makes').append("<option value=''>Select Make</option>");
            $.each(data.makeHolder, function(i, val) {
              $('#edit #makes').append("<option value='" + data.makeHolder[i].niceName + "'>" + data.makeHolder[i].name + "</option>");
            });
            $('#edit [name="makes"]').val(make);
            $('#edit #makes').removeAttr('disabled');
            $('#specific2 select').removeAttr('disabled');
            $('#specific2 select').css("opacity", "1");
            get_models3(make, year);
            console.log('Step 2: Makes select was populated and enabled');
          }
        });
      }

      function get_models3(make, year) {
        url = 'http://api.edmunds.com/v1/api/vehicle/modelrepository/findmodelsbymakeandyear?make=' + make + '&year=' + year + '&api_key=' + EDMUNDS_API_KEY + '&fmt=json';
        $.ajax({
          type: "POST",
          url: url,
          data: '',
          dataType: 'jsonp',
          success: function(data) {
            $('#edit #models').empty();
            $('#edit #models').append("<option value=''>Select Model</option>");
            $.each(data.modelHolder, function(i, val) {
              $('#edit #models').append("<option value='" + data.modelHolder[i].niceName + "'>" + data.modelHolder[i].name + "</option>");
            });

            $('#edit [name="models"]').val(model);

            $('#edit #models').removeAttr('disabled');
            $('#edit #models').css("opacity", "1");
            console.log('Step 4: Models select was populated and enabled');

          }
        });
      }


      function editcontact(cid) {


        $('#editbutton').addClass("activenow2");

        setTimeout(function() {
          $('#editbutton').removeClass('activenow2');
          document.getElementById('viewuser').style.display = 'none';
          $('#page').scrollTop(0);
          document.getElementById('edit').style.display = '';

        }, 500);



        $.unblockUI();


      }

      function deletecontact(cid) {


        $('#deletebutton').addClass("activenow2");
        working("on");
        setTimeout(function() {
          $('#deletebutton').removeClass('activenow2');
        }, 500);

        function okdelete(buttonIndex) {
          if (buttonIndex == 1) {
            working("off");
            return false;
          }
          if (buttonIndex == 2) {


            $.ajax({
              type: "GET",
              url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/delete.php?contactid=" + cid,
              dataType: "html",
              success: function(response) {
                redraw()
                working("off");
              },
              error: function(jqXHR, textStatus, errorThrown) {
                function delalertDismissed() {

                  working("off");
                }

                navigator.notification.alert(
                  'There was a problem deleting your contact.',
                  delalertDismissed,
                  'fTHRU',
                  'OK'
                );
              }

            });
          }
        }


        navigator.notification.confirm(
          'Are you sure you want to delete this contact?', // message
          okdelete, // callback to invoke with index of button pressed
          'Delete Contact', // title
          'Cancel,Delete' // buttonLabels
        );




      }

      function deletevehicle(cid) {

        working("on");

        function okdelete2(buttonIndex) {
          if (buttonIndex == 1) {
            working("off");
            return false;
          }
          if (buttonIndex == 2) {
            $.ajax({
              type: "GET",
              url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/delete2.php?vehicleid=" + cid,
              dataType: "html",
              success: function(response) {

                redraw();
                working("off");
              },
              error: function(jqXHR, textStatus, errorThrown) {
                function remalertDismissed() {

                  working("off");
                }

                navigator.notification.alert(
                  'There was a problem deleting your vehicle.',
                  remalertDismissed,
                  'fTHRU',
                  'OK'
                );
              }

            });
          }

        }


        navigator.notification.confirm(
          'Are you sure you want to delete this vehicle?',
          okdelete2,
          'Delete Vehicle',
          'Cancel,Delete'
        );


      }

      function back() {
        $("#regForm")[0].reset();
        var backimgURL = "splash.png";
        //  $("#container").css('background', 'url("../splash.png") no-repeat 100% 100%;');

        $("#container").css("background", "url('" + backimgURL + "') no-repeat 50% 25%");

        $('#container').css({
          "-webkit-background-size": "cover"
        });
        $('#container').css({
          "-moz-background-size": "cover"
        });
        $('#container').css({
          "-o-background-size": "cover"
        });
        $('#container').css({
          "background-size": "cover"
        });
        $('#reg').hide();
        $('#regheader').hide();
        var pagetarget = $('#page');
        setTimeout(function() {
          pagetarget.css({
            '-webkit-overflow-scrolling': 'auto',
            'overflow-y': 'hidden'
          });
          setTimeout(function() {
            $('li').removeClass('active');
            setTimeout(function() {
              document.getElementById('start').style.display = '';
              setTimeout(function() {
                pagetarget.scrollTop(0);
                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'touch',
                    'overflow-y': 'auto'
                  });
                  $('#forgot').show();
                }, 0);
              }, 0);
            }, 0);
          }, 0);
        }, 0);






      }

      function changepass() {
        $("#changepass").hide();
        $(".showpass").show();
      }

      function loadsettings(first) {

        $.ajax({
          type: "GET",
          url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/settings.php?action=get&id=" + id,
          dataType: "html",
          success: function(response) {

            // alert(response);
            settingsobj = JSON.parse(response);
            var firstname = settingsobj.first;
            var lastname = settingsobj.last;
            var phone = settingsobj.phone;
            var email = settingsobj.email;
            var dealership = settingsobj.dealership;

            if (first == "first") {
              $("#welcome span").text("Welcome " + firstname);
              $("#welcome").fadeIn(3000);
              setTimeout(function() {
                $("#welcome").fadeOut(3000);
              }, 3000);
            }


            $('#settings [name="firstname"]').val(firstname);
            $('#settings [name="lastname"]').val(lastname);

            $('#settings [name="phone"]').val(phone);

            $('#settings [name="email"]').val(email);

            $('#settings [name="dealer"]').val(dealership);

            working("off");
          },
          error: function(jqXHR, textStatus, errorThrown) {
            function alertDismissed() {
              working("off");

            }

            navigator.notification.alert(
              'There was a problem loading your settings.',
              alertDismissed,
              'fTHRU',
              'OK'
            );
          }

        });
      }

      function settings() {
        if ($("div.appscreen").not(":hidden").prop("id") == "settings") {
          $("#changepass").show();
          $(".showpass").hide();
          document.getElementById("settings").style.display = 'none';
          $('#page').scrollTop(0);
          document.getElementById(lastpage).style.display = '';

        } else {
          loadsettings();
          working("on");
          lastpage = $("div.appscreen").not(":hidden").prop("id");
          document.getElementById(lastpage).style.display = 'none';
          $('#page').scrollTop(0);
          document.getElementById('settings').style.display = '';

        }

      }

      function cancelsettings() {
        $("#changepass").show();
        $(".showpass").hide();
        document.getElementById("settings").style.display = 'none';
        $('#page').scrollTop(0);
        document.getElementById(lastpage).style.display = '';

      }

      function logoff() {



        function okdelete3(buttonIndex) {

          if (buttonIndex == 1) {
            return false;
          }
          if (buttonIndex == 2) {
            working("on");
            $.ajax({
              type: "GET",
              url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/logout.php",
              dataType: "html",
              success: function(response) {

                networkcheck = false;
                var pagetarget = $('#page');

                setTimeout(function() {
                  $('#page').scrollTop(0);
                  setTimeout(function() {
                    var backimgURL = "splash.png";

                    $("#container").css("background", "url('" + backimgURL + "') no-repeat 50% 25%");
                    $("#responsecontainermatch").html('');
                    $('#container').css({
                      "-webkit-background-size": "cover"
                    });
                    $('#container').css({
                      "-moz-background-size": "cover"
                    });
                    $('#container').css({
                      "-o-background-size": "cover"
                    });
                    $('#container').css({
                      "background-size": "cover"
                    });
                    $('.appscreen').hide();
                    $('#appheader').hide();

                    setTimeout(function() {
                      pagetarget.css({
                        '-webkit-overflow-scrolling': 'auto',
                        'overflow-y': 'hidden'
                      });
                      setTimeout(function() {
                        $('li').removeClass('active');
                        setTimeout(function() {
                          document.getElementById('start').style.display = '';
                          setTimeout(function() {
                            pagetarget.scrollTop(0);
                            setTimeout(function() {
                              pagetarget.css({
                                '-webkit-overflow-scrolling': 'touch',
                                'overflow-y': 'auto'
                              });
                              $("#forgot").show();
                            }, 0);
                          }, 0);
                        }, 0);
                      }, 0);
                    }, 0);

                  }, 0);
                }, 0);

                $("#regForm")[0].reset();
                $("#loginForm")[0].reset();
                $("#testForm")[0].reset();
                $("#testForm2")[0].reset();
                $("#editForm")[0].reset();
                $("#settingsForm")[0].reset();
                $("#changepass").show();
                $(".showpass").hide();

                localStorage.clear();
                contacttable.destroy();
                inventorytable.destroy();
                contactsinitialized = false;
                vehiclesinitialized = false;
                id = null;





                working("off");
              },
              error: function(jqXHR, textStatus, errorThrown) {

                networkcheck = false;
                var pagetarget = $('#page');

                setTimeout(function() {
                  $('#page').scrollTop(0);
                  setTimeout(function() {
                    var backimgURL = "splash.png";

                    $("#container").css("background", "url('" + backimgURL + "') no-repeat 50% 25%");
                    $("#responsecontainermatch").html('');
                    $('#container').css({
                      "-webkit-background-size": "cover"
                    });
                    $('#container').css({
                      "-moz-background-size": "cover"
                    });
                    $('#container').css({
                      "-o-background-size": "cover"
                    });
                    $('#container').css({
                      "background-size": "cover"
                    });
                    $('.appscreen').hide();
                    $('#appheader').hide();

                    setTimeout(function() {
                      pagetarget.css({
                        '-webkit-overflow-scrolling': 'auto',
                        'overflow-y': 'hidden'
                      });
                      setTimeout(function() {
                        $('li').removeClass('active');
                        setTimeout(function() {
                          document.getElementById('start').style.display = '';
                          setTimeout(function() {
                            pagetarget.scrollTop(0);
                            setTimeout(function() {
                              pagetarget.css({
                                '-webkit-overflow-scrolling': 'touch',
                                'overflow-y': 'auto'
                              });
                              $("#forgot").show();
                            }, 0);
                          }, 0);
                        }, 0);
                      }, 0);
                    }, 0);

                  }, 0);
                }, 0);

                $("#regForm")[0].reset();
                $("#loginForm")[0].reset();
                $("#testForm")[0].reset();
                $("#testForm2")[0].reset();
                $("#editForm")[0].reset();
                $("#settingsForm")[0].reset();
                $("#changepass").show();
                $(".showpass").hide();

                localStorage.clear();
                contacttable.destroy();
                inventorytable.destroy();
                contactsinitialized = false;
                vehiclesinitialized = false;
                id = null;
                working("off");




              }

            });
          }
        }
        navigator.notification.confirm(
          'Are you sure you want to sign out?',
          okdelete3,
          'Sign Out',
          'Cancel,Log Off'
        );


      }



      function editpermission(cid, permission) {
        working("on");

        $('#smsbutton').addClass("activenow2");

        setTimeout(function() {
          $('#smsbutton').removeClass('activenow2');
        }, 500);

        if (permission == 0) {


          function enabletext(buttonIndex) {
            if (buttonIndex == 1) {
              working("off");
              return false;
            }
            if (buttonIndex == 2) {
              $.ajax({
                type: "GET",
                url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/permission.php?contactid=" + cid + "&permission=1",
                dataType: "html",
                success: function(response) {

                  redraw();
                  working("off");
                },
                error: function(jqXHR, textStatus, errorThrown) {
                  function smsalertDismissed() {

                    working("off");
                  }

                  navigator.notification.alert(
                    'There was a problem editing this user\'s SMS permissions.',
                    smsalertDismissed,
                    'fTHRU',
                    'OK'
                  );
                }

              });
            }

          }
          navigator.notification.confirm(
            'Automatic text message delivery is DISABLED for this contact. Would you like to re-enable automatic text message delivery?',
            enabletext,
            'Permission',
            'Cancel,Re-Enable'
          );

        }
        if (permission == 1) {


          function disabletext(buttonIndex) {
            if (buttonIndex == 1) {
              working("off");
              return false;
            }
            if (buttonIndex == 2) {
              $.ajax({
                type: "GET",
                url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/permission.php?contactid=" + cid + "&permission=0",
                dataType: "html",
                success: function(response) {

                  redraw();
                  working("off");
                },
                error: function(jqXHR, textStatus, errorThrown) {
                  function sms2alertDismissed() {

                    working("off");
                  }

                  navigator.notification.alert(
                    'There was a problem editing this user\'s SMS permissions.',
                    sms2alertDismissed,
                    'fTHRU',
                    'OK'
                  );
                }

              });
            }

          }
          navigator.notification.confirm(
            'Automatic text message delivery is ENABLED for this contact. Would you like to disable automatic text message delivery?',
            disabletext,
            'Permission',
            'Cancel,Disable'
          );

        } else {
          working("off");
        }
      }
      $(document).ready(function() {

        $('#home #specific2 select').attr('disabled', 'disabled');
        $('#home #specific3 select').attr('disabled', 'disabled');
        $('#home #specific2 select').css("opacity", ".4");
        $('#home #specific3 select').css("opacity", ".4");

        $('#edit #specific2 select').attr('disabled', 'disabled');
        $('#edit #specific3 select').attr('disabled', 'disabled');
        $('#edit #specific2 select').css("opacity", ".4");
        $('#edit #specific3 select').css("opacity", ".4");

        $('#makes1').attr('disabled', 'disabled');
        $('#models1').attr('disabled', 'disabled');
        $('#makes1').css("opacity", ".4");
        $('#models1').css("opacity", ".4");
        $('#forgottab').toggle(function() {
          $("#forgot").animate({
            left: "-.5%",
            opacity: 1
          }, 1000);
        }, function() {
          if ($("#forgot input").val() != "") {
            forgotpass();
          }
          $("#forgot").animate({
            left: "-91%",
            opacity: .4

          }, 1000);
        });

        // $("#forgot").on('click touchstart', function () {
        //
        //   });

        $('.bluebtn').on('click touchstart', function() {

          $(this).addClass("activenow");

          setTimeout(function() {
            $('.bluebtn').removeClass('activenow');
          }, 500);

        });

        $('.bluebtn2').on('click touchstart', function() {

          $(this).addClass("activenow2");

          setTimeout(function() {
            $('.bluebtn2').removeClass('activenow2');
          }, 500);

        });

        $('.redbtn').on('click touchstart', function() {

          $(this).addClass("activenow");

          setTimeout(function() {
            $('.redbtn').removeClass('activenow');
          }, 500);

        });
        $('#logoff').on('click touchstart', function() {

          $(this).addClass("activenow2");

          setTimeout(function() {
            $('#logoff').removeClass('activenow2');
          }, 500);

        });

        $('#settingsicon').on('click touchstart', function() {

          $(this).addClass("activenow2");

          setTimeout(function() {
            $('#settingsicon').removeClass('activenow2');
          }, 500);

        });

        $('#back').on('click touchstart', function() {

          $(this).addClass("activenow2");

          setTimeout(function() {
            $('#back').removeClass('activenow2');
          }, 500);

        });

        // if (navigator.userAgent.match(/Android/i)) {
        //   $('#appheader').css("zoom", ".74");
        //   $('#regheader').css("zoom", ".74");
        // }
        // if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {
        //   $('#appheader').css("zoom", ".88");
        //   $('#regheader').css("zoom", ".88");
        // }
        $(document).ajaxError(function(e, jqxhr, settings, exception) {
          console.log(exception);
        });
        // window.onerror = function(error) {
        //   console.log(error);
        // };

        document.addEventListener("deviceready", function() {
          deviceReady = true;
        }, false);
        window.setTimeout(function() {
          if (!deviceReady) {
            // alert("Error: fThru Core Engine did not initialize.  Please restart the app.");


            function engineerrorDismissed() {
              fieldsmessage = "reset";
            }

            navigator.notification.alert(
              'Error: fThru Core Engine did not initialize.  Please restart the app.',
              engineerrorDismissed,
              'fTHRU',
              'OK'
            );

          } else {



            if (typeof cordova === "undefined" || !cordova.InAppBrowser) {
              throw new Error("You are trying to run this code for a non-cordova project, " +
                "or did not install the cordova InAppBrowser plugin");
            }


            delete window.open;
            var windowOpen = window.open;





            $("input.phone").mask("(999) 999-9999");
          }
        }, 2000);







        if (id !== null) {
          $("#forgot").hide();
          networkcheck = true;
          // document.getElementById('appheader').style.display = '';
          $('#appheader').show();
          $("#container").css('background-image', 'none');
          var pagetarget = $("#page");
          initializetables();
          setTimeout(function() {
            $('#page').scrollTop(0);
            setTimeout(function() {
              document.getElementById('start').style.display = 'none';
              setTimeout(function() {
                pagetarget.css({
                  '-webkit-overflow-scrolling': 'auto',
                  'overflow-y': 'hidden'
                });
                setTimeout(function() {
                  $('li').removeClass('active');
                  $('#tabs #tm_map').addClass('active');
                  setTimeout(function() {
                    document.getElementById('home').style.display = '';
                    setTimeout(function() {
                      pagetarget.scrollTop(0);
                      setTimeout(function() {
                        pagetarget.css({
                          '-webkit-overflow-scrolling': 'touch',
                          'overflow-y': 'auto'
                        });
                        $('#slider').rangeSlider('resize');
                        $('#dvLoading').hide();
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);
              }, 0);

            }, 0);
          }, 0);
          loadsettings("first");

          checktables();
        } else {
          networkcheck = false;
          contactsinitialized = false;
          vehiclesinitialized = false;
          $("#forgot").show();
          document.getElementById('start').style.display = '';
          setTimeout(function() {
            $('#dvLoading').hide();
          }, 0);

        }
        $('#years').change(function() {
          $('#specific2 select').attr('disabled', 'disabled');
          $('#specific3 select').attr('disabled', 'disabled');
          $('#specific2 select').css("opacity", ".4");
          $('#specific3 select').css("opacity", ".4");
          console.log('Step 1: Year ' + $(this).val() + ' was selected');
          get_makes($(this).val());
        });

        $('#makes').change(function() {
          console.log('Step 3: Make ' + $(this).val() + ' was selected');
          get_models($(this).val(), $('#years').val());
        });
        $('#models').change(function() {
          console.log('Step 5: Model ' + $(this).val() + ' was selected');
          get_styles($('#makes').val(), $(this).val(), $('#years').val());
        });
        $('#styles').change(function() {
          console.log('Step 7: Style ' + $(this).val() + ' was selected');
          get_style_details($(this).val());
        });
        $('#years1').change(function() {
          $('#makes1').attr('disabled', 'disabled');
          $('#models1').attr('disabled', 'disabled');
          $('#makes1').css("opacity", ".4");
          $('#models1').css("opacity", ".4");
          console.log('Step 1: Year ' + $(this).val() + ' was selected');
          get_makes1($(this).val());
        });

        $('#makes1').change(function() {
          console.log('Step 3: Make ' + $(this).val() + ' was selected');
          get_models1($(this).val(), $('#years1').val());
        });
        $('#models1').change(function() {
          console.log('Step 5: Model ' + $(this).val() + ' was selected');
          // get_styles1($('#makes1').val(), $(this).val(), $('#years1').val());
        });
        $('#styles1').change(function() {
          console.log('Step 7: Style ' + $(this).val() + ' was selected');
          get_style_details1($(this).val());
        });
        $("#tm_home").click(function() {

          redraw();
        });
        $("#tm_pro").click(function() {

          redraw();
        });
        $("#displaymatch").click(function() {
          working("on");

          $.ajax({
            type: "GET",
            url: "http://" + FTHRU_SETTINGS.API_HOSTNAME + "/www/match.php?id=" + id,
            dataType: "html",
            success: function(response) {
              $("#responsecontainermatch").html(response);
              working("off");

            },
            error: function(jqXHR, textStatus, errorThrown) {
              function matchalertDismissed() {
                // $("#regForm")[0].reset();
                $('#page').scrollTop(0);
                working("off");
              }

              //alert(JSON.stringify(arguments));

              navigator.notification.alert(
                'Problem getting new matches.',
                matchalertDismissed,
                'fTHRU',
                'OK'
              );


            }

          });
        });

        $('#models1').on('focus', function(e) {
          e.preventDefault();
          e.stopPropagation();
          // $('#page').scrollTop(0);
          setTimeout(function() {

          }, 500); //the second 0 marks the Y scroll pos. Setting this to i.e. 100 will push the screen up by 100px.
        });
        $('#makes1').on('focus', function(e) {
          e.preventDefault();
          e.stopPropagation();
          // $('#page').scrollTop(0);
          // window.scrollTo(0,0); //the second 0 marks the Y scroll pos. Setting this to i.e. 100 will push the screen up by 100px.
          setTimeout(function() {

          }, 500);
        });
        $('#years1').on('focus', function(e) {
          e.preventDefault();
          e.stopPropagation();
          // $('#page').scrollTop(0);
          //  window.scrollTo(0,0); //the second 0 marks the Y scroll pos. Setting this to i.e. 100 will push the screen up by 100px.
          setTimeout(function() {

          }, 500);
        });
        $('#models').on('focus', function(e) {
          e.preventDefault();
          e.stopPropagation();
          // $('#page').scrollTop(0);
          //  window.scrollTo(0,0); //the second 0 marks the Y scroll pos. Setting this to i.e. 100 will push the screen up by 100px.
          setTimeout(function() {

          }, 500);
        });
        $('#makes').on('focus', function(e) {
          e.preventDefault();
          e.stopPropagation();
          // $('#page').scrollTop(0);
          //    window.scrollTo(0,0); //the second 0 marks the Y scroll pos. Setting this to i.e. 100 will push the screen up by 100px.
          setTimeout(function() {

          }, 500);
        });
        $('#years').on('focus', function(e) {
          e.preventDefault();
          e.stopPropagation();
          // $('#page').scrollTop(0);
          //  window.scrollTo(0,0); //the second 0 marks the Y scroll pos. Setting this to i.e. 100 will push the screen up by 100px.
          setTimeout(function() {

          }, 500);
        });

        function resetfields() {


          function alertDismissed() {
            fieldsmessage = "reset";
          }

          navigator.notification.alert(
            'Fields have been reset!',
            alertDismissed,
            'fTHRU',
            'OK'
          );
        }



      });
    </script>




    <script>
      $().ready(function() {
        $("input.phone").mask("(999) 999-9999");


        $("#settingsForm").validate({
          rules: {
            phone: {
              required: true,
              minlength: 10,
              phoneUS: true
            },
            email: {
              required: true,
              email: true
            },
            firstname: {
              required: true,
              minlength: 1
            },
            lastname: {
              required: true,
              minlength: 1
            },
            password1: {

            },
            confirm: {

              equalTo: "#password1"
            },
            dealer: {
              required: true,
              minlength: 1
            }

          },
          messages: {
            phone: {
              required: "Please enter your phone number",
              phoneUS: "Please enter a valid phone number"
            }
          },
          submitHandler: function(form) {
            working("on");
            var postData = $(form).serializeArray();
            var formURL = $(form).attr("action");

            $.ajax({
              url: formURL + id,
              type: "POST",
              data: postData,
              success: function(data, textStatus, jqXHR) {
                //alert(JSON.stringify(arguments));
                function alertDismissed() {
                  $('#page').scrollTop(0);
                  $('#settings #password1').val("");
                  $('#settings #confirm').val("");
                  $("#changepass").show();
                  $(".showpass").hide();
                  loadsettings();
                  working("off");
                  // okMsg("Changes applied.", 2000, back());



                }

                navigator.notification.alert(
                  'Your changes have been saved!',
                  alertDismissed,
                  'fTHRU',
                  'OK'
                );



              },
              error: function(jqXHR, textStatus, errorThrown) {
                function alertDismissed() {
                  // $("#regForm")[0].reset();
                  $('#settings #password1').val("");
                  $('#settings #confirm').val("");
                  $("#changepass").show();
                  $(".showpass").hide();
                  $('#page').scrollTop(0);
                  working("off");
                }

                //alert(JSON.stringify(arguments));
                if (jqXHR.status === 0) {
                  navigator.notification.alert(
                    'Issue saving changes. Please try again.',
                    alertDismissed,
                    'fTHRU',
                    'OK'
                  );
                }

                if (jqXHR.status == 400) {
                  navigator.notification.alert(
                    'Issue saving changes. Please try again.',
                    alertDismissed,
                    'fTHRU',
                    'OK'
                  );
                } else {
                  navigator.notification.alert(
                    'Issue saving changes. Please try again.',
                    alertDismissed,
                    'fTHRU',
                    'OK'
                  );
                }
              }
            });
          }
        });

        //



        $("#regForm").validate({
          rules: {
            phone: {
              required: true,
              minlength: 10,
              phoneUS: true
            },
            email: {
              required: true,
              email: true
            },
            firstname: {
              required: true,
              minlength: 1
            },
            lastname: {
              required: true,
              minlength: 1
            },
            password1: {
              required: true,
              minlength: 5
            },
            confirm: {
              required: true,
              equalTo: "#regForm #password1"
            },
            dealer: {
              required: true,
              minlength: 1
            }

          },
          messages: {
            phone: {
              required: "Please enter your phone number",
              phoneUS: "Please enter a valid phone number"
            }
          },
          submitHandler: function(form) {
            var postData = $(form).serializeArray();
            var formURL = $(form).attr("action");

            $.ajax({
              url: formURL,
              type: "POST",
              data: postData,
              success: function(data, textStatus, jqXHR) {
                //alert(JSON.stringify(arguments));
                function alertDismissed() {
                  $("#regForm")[0].reset();
                  $('#page').scrollTop(0);


                  okMsg("Please login.", 2000, back());



                }

                navigator.notification.alert(
                  'Registration Successful!',
                  alertDismissed,
                  'fTHRU',
                  'OK'
                );



              },
              error: function(jqXHR, textStatus, errorThrown) {
                function alertDismissed() {
                  // $("#regForm")[0].reset();
                  $('#page').scrollTop(0);
                }

                //alert(JSON.stringify(arguments));
                if (jqXHR.status === 0) {
                  navigator.notification.alert(
                    'Network Issues. Please try again.',
                    alertDismissed,
                    'fTHRU',
                    'OK'
                  );
                }
                if (jqXHR.status == 409) {
                  navigator.notification.alert(
                    'This email is already registered with fTHRU.',
                    alertDismissed,
                    'fTHRU',
                    'OK'
                  );
                }
                if (jqXHR.status == 400) {
                  navigator.notification.alert(
                    'There was an issue with processing/validating your input. Try again.',
                    alertDismissed,
                    'fTHRU',
                    'OK'
                  );
                } else {
                  navigator.notification.alert(
                    'There was a problem with your registration. Please try again.',
                    alertDismissed,
                    'fTHRU',
                    'OK'
                  );
                }
              }
            });
          }
        });

        //
        // $("#forgotForm").validate({
        //   rules:{
        //
        //     email: {
        //       required: true,
        //       email: true
        //     }
        //
        //   },
        //
        //   submitHandler: function(form){
        //     var postData = $(form).serializeArray();
        //     var formURL = $(form).attr("action");
        //
        //     $.ajax(
        //      {
        //          url : formURL,
        //          type: "POST",
        //          data : postData,
        //          success:function(data, textStatus, jqXHR)
        //          {
        //            //alert(JSON.stringify(arguments));
        //              function alertDismissed() {
        //                  $("#regForm")[0].reset();
        //                  $('#page').scrollTop(0);
        //
        //
        //                  okMsg("Please login.", 2000, back());
        //
        //
        //
        //              }
        //
        //              navigator.notification.alert(
        //                      'Registration Successful!',
        //                      alertDismissed,
        //                      'fTHRU',
        //                      'OK'
        //              );
        //
        //
        //
        //          },
        //          error: function(jqXHR, textStatus, errorThrown)
        //          {
        //              function alertDismissed() {
        //                  // $("#regForm")[0].reset();
        //                  $('#page').scrollTop(0);
        //              }
        //
        //              //alert(JSON.stringify(arguments));
        //              if (jqXHR.status === 0) {
        //                navigator.notification.alert(
        //                        'Network Issues. Please try again.',
        //                        alertDismissed,
        //                        'fTHRU',
        //                        'OK'
        //                );
        //              }
        //              if(jqXHR.status == 409){
        //                navigator.notification.alert(
        //                        'This email is already registered with fTHRU.',
        //                        alertDismissed,
        //                        'fTHRU',
        //                        'OK'
        //                );
        //              }
        //              if(jqXHR.status == 400){
        //                navigator.notification.alert(
        //                        'There was an issue with processing/validating your input. Try again.',
        //                        alertDismissed,
        //                        'fTHRU',
        //                        'OK'
        //                );
        //              }
        //              else{
        //              navigator.notification.alert(
        //                      'There was a problem with your registration. Please try again.',
        //                      alertDismissed,
        //                      'fTHRU',
        //                      'OK'
        //              );
        //            }
        //          }
        //      });
        //   }
        // });
        //
        //


        $("#testForm").validate({
          rules: {
            phone: {
              minlength: 10
            },
            pricelow: {
              number: true
            },
            pricehigh: {
              number: true
            },
            years: {
              required: "#home #specific:checked",
              selectcheck: true
            },
            makes: {
              required: "#home #specific:checked",
              selectcheck: true
            },
            models: {
              required: "#home #specific:checked",
              selectcheck: true
            },
            'type[]': {
              required: true
            }
          },
          errorPlacement: function(error, element) {
            if (element.attr("name") == "type[]") {
              error.appendTo($("#home #error"));
            } else if (element.attr("name") == "pricelow") {
              error.appendTo($("#home #pricelowerror"));
            } else if (element.attr("name") == "pricehigh") {
              error.appendTo($("#home #pricehigherror"));
            } else {
              error.insertAfter(element);
            }
          },
          submitHandler: function(form) {

            working("on");
            if ($("#home #specific").is(':checked')) {
              if ($("#home #years").is(':disabled') || $("#home #makes").is(':disabled') || $("#home #models").is(':disabled')) {
                working("off");
                return false;
              }
            }
            var postData = $(form).serializeArray();
            var formURL = $(form).attr("action");

            console.log(formURL + "?id=" + id);
            $.ajax({
              url: formURL + "?id=" + id,
              type: "POST",
              data: postData,
              success: function(data, textStatus, jqXHR) {
                function alertDismissed() {
                  redraw();
                  $("#testForm")[0].reset();

                  var pagetarget = $("#page");

                  setTimeout(function() {
                    document.getElementById("cars").disabled = false;
                    document.getElementById("trucks").disabled = false;
                    document.getElementById("suvs").disabled = false;
                    document.getElementById("crossovers").disabled = false;
                    $('#specific2 select').attr('disabled', 'disabled');
                    $('#specific3 select').attr('disabled', 'disabled');
                    $('#specific2 select').css("opacity", ".4");
                    $('#specific3 select').css("opacity", ".4");
                    setTimeout(function() {
                      $('#page').scrollTop(0);
                      setTimeout(function() {
                        pagetarget.css({
                          '-webkit-overflow-scrolling': 'auto',
                          'overflow-y': 'hidden'
                        });
                        setTimeout(function() {
                          $("#specific1").hide();
                          $("#specific2").hide();
                          $("#specific3").hide();
                          setTimeout(function() {

                            pagetarget.scrollTop(0);
                            setTimeout(function() {
                              pagetarget.css({
                                '-webkit-overflow-scrolling': 'touch',
                                'overflow-y': 'auto'
                              });


                            }, 0);
                          }, 0);
                        }, 0);
                      }, 0);

                    }, 0);
                  }, 0);


                  working("off");
                }

                navigator.notification.alert(
                  'Your new contact has been added!',
                  alertDismissed,
                  'fTHRU',
                  'OK'
                );



              },
              error: function(jqXHR, textStatus, errorThrown) {
                function alertDismissed() {
                  $("#testForm")[0].reset();
                  $('#page').scrollTop(0);
                  var pagetarget = $("#page");

                  setTimeout(function() {
                    document.getElementById("cars").disabled = false;
                    document.getElementById("trucks").disabled = false;
                    document.getElementById("suvs").disabled = false;
                    document.getElementById("crossovers").disabled = false;
                    $('#specific2 select').attr('disabled', 'disabled');
                    $('#specific3 select').attr('disabled', 'disabled');
                    $('#specific2 select').css("opacity", ".4");
                    $('#specific3 select').css("opacity", ".4");
                    setTimeout(function() {
                      $('#page').scrollTop(0);
                      setTimeout(function() {
                        pagetarget.css({
                          '-webkit-overflow-scrolling': 'auto',
                          'overflow-y': 'hidden'
                        });
                        setTimeout(function() {
                          $("#specific1").hide();
                          $("#specific2").hide();
                          $("#specific3").hide();
                          setTimeout(function() {

                            pagetarget.scrollTop(0);
                            setTimeout(function() {
                              pagetarget.css({
                                '-webkit-overflow-scrolling': 'touch',
                                'overflow-y': 'auto'
                              });


                            }, 0);
                          }, 0);
                        }, 0);
                      }, 0);

                    }, 0);
                  }, 0);

                  working("off");
                }

                navigator.notification.alert(
                  'There was a problem adding your contact.',
                  alertDismissed,
                  'fTHRU',
                  'OK'
                );
              }
            });

          }
        });

        $("#editForm").validate({
          rules: {
            phone: {
              minlength: 10

            },
            pricelow: {
              number: true
            },
            pricehigh: {
              number: true
            },
            years: {
              required: "#edit #specific:checked",
              selectcheck: true
            },
            makes: {
              required: "#edit #specific:checked",
              selectcheck: true
            },
            models: {
              required: "#edit #specific:checked",
              selectcheck: true
            },
            'type[]': {
              required: true
            }
          },
          errorPlacement: function(error, element) {
            if (element.attr("name") == "type[]") {
              error.appendTo($("#edit #error"));
            } else if (element.attr("name") == "pricelow") {
              error.appendTo($("#edit #pricelowerror"));
            } else if (element.attr("name") == "pricehigh") {
              error.appendTo($("#edit #pricehigherror"));
            } else {
              error.insertAfter(element);
            }
          },
          submitHandler: function(form) {


            working("on");
            if ($("#edit #specific").is(':checked')) {
              if ($("#edit #years").is(':disabled') || $("#edit #makes").is(':disabled') || $("#edit #models").is(':disabled')) {
                working("off");
                return false;
              }
            }

            var postData = $(form).serializeArray();
            var formURL = $(form).attr("action");

            console.log(formURL + "?id=" + id);
            $.ajax({
              url: formURL + "?id=" + id,
              type: "POST",
              data: postData,
              success: function(data, textStatus, jqXHR) {
                function alertDismissed() {
                  redraw();
                  $("#editForm")[0].reset();
                  var pagetarget = $("#page");

                  setTimeout(function() {
                    document.getElementById("cars").disabled = false;
                    document.getElementById("trucks").disabled = false;
                    document.getElementById("suvs").disabled = false;
                    document.getElementById("crossovers").disabled = false;
                    $('#specific2 select').attr('disabled', 'disabled');
                    $('#specific3 select').attr('disabled', 'disabled');
                    $('#specific2 select').css("opacity", ".4");
                    $('#specific3 select').css("opacity", ".4");
                    setTimeout(function() {
                      $('#page').scrollTop(0);
                      setTimeout(function() {
                        pagetarget.css({
                          '-webkit-overflow-scrolling': 'auto',
                          'overflow-y': 'hidden'
                        });
                        setTimeout(function() {
                          $("#specific1").hide();
                          $("#specific2").hide();
                          $("#specific3").hide();
                          setTimeout(function() {

                            pagetarget.scrollTop(0);
                            setTimeout(function() {
                              pagetarget.css({
                                '-webkit-overflow-scrolling': 'touch',
                                'overflow-y': 'auto'
                              });


                            }, 0);
                          }, 0);
                        }, 0);
                      }, 0);

                    }, 0);
                  }, 0);

                  working("off");
                }

                navigator.notification.alert(
                  'Your contact\'s information has been successfully updated!',
                  alertDismissed,
                  'fTHRU',
                  'OK'
                );


                var pagetarget = $("#page");

                setTimeout(function() {
                  $('#page').scrollTop(0);
                  setTimeout(function() {
                    document.getElementById('edit').style.display = 'none';
                    setTimeout(function() {
                      pagetarget.css({
                        '-webkit-overflow-scrolling': 'auto',
                        'overflow-y': 'hidden'
                      });
                      setTimeout(function() {
                        $('li').removeClass('active');
                        $('#tabs #tm_pro').addClass('active');
                        setTimeout(function() {

                          document.getElementById('viewuser').style.display = '';
                          setTimeout(function() {
                            pagetarget.scrollTop(0);
                            setTimeout(function() {
                              pagetarget.css({
                                '-webkit-overflow-scrolling': 'touch',
                                'overflow-y': 'auto'
                              });

                            }, 0);
                          }, 0);
                        }, 0);
                      }, 0);
                    }, 0);

                  }, 0);
                }, 0);







              },
              error: function(jqXHR, textStatus, errorThrown) {


                function alertDismissed() {
                  $("#editForm")[0].reset();
                  $('#page').scrollTop(0);
                  working("off");
                }

                navigator.notification.alert(
                  'There was a problem updating your contact\'s information.',
                  alertDismissed,
                  'fTHRU',
                  'OK'
                );



                var pagetarget = $("#page");

                setTimeout(function() {
                  $('#page').scrollTop(0);
                  setTimeout(function() {
                    document.getElementById('edit').style.display = 'none';
                    setTimeout(function() {
                      pagetarget.css({
                        '-webkit-overflow-scrolling': 'auto',
                        'overflow-y': 'hidden'
                      });
                      setTimeout(function() {
                        $('li').removeClass('active');
                        $('#tabs #tm_pro').addClass('active');
                        setTimeout(function() {

                          document.getElementById('viewuser').style.display = '';
                          setTimeout(function() {
                            pagetarget.scrollTop(0);
                            setTimeout(function() {
                              pagetarget.css({
                                '-webkit-overflow-scrolling': 'touch',
                                'overflow-y': 'auto'
                              });

                            }, 0);
                          }, 0);
                        }, 0);
                      }, 0);
                    }, 0);

                  }, 0);
                }, 0);





              }
            });

          }
        });

        $("#testForm2").validate({
          rules: {
            price: {
              number: true
            },
            years: {
              required: "#addcar #specific:checked",
              selectcheck: true

            },
            makes: {
              required: "#addcar #specific:checked",
              selectcheck: true
            },
            models: {
              required: "#addcar #specific:checked",
              selectcheck: true
            },
            'type[]': {
              required: true
            }
          },
          errorPlacement: function(error, element) {
            if (element.attr("name") == "type[]") {
              error.appendTo($("#addcar #error"));
            } else if (element.attr("name") == "price") {
              error.appendTo($("#addcar #priceerror"));
            } else {
              error.insertAfter(element);
            }
          },
          submitHandler: function(form) {
            working("on");

            if ($("#addcar #years1").is(':disabled') || $("#addcar #makes1").is(':disabled') || $("#addcar #models1").is(':disabled')) {
              working("off");
              return false;
            }

            uploadPicture();

            submitcar = function submitcar() {




              var postData = new FormData($(form)[0]);
              var formURL = $(form).attr("action");
              $.ajax({
                url: formURL + "?id=" + id,
                type: "POST",
                data: postData,
                async: false,
                success: function(data, textStatus, jqXHR) {


                  function alertDismissed() {
                    redraw();
                    $("#testForm2")[0].reset();
                    $("#camera_status").text('');
                    $("#camera_image").attr("src", "");
                    $("#camera_image").hide();
                    var imght = $('#camera_image').height();
                    var addcarht = $("#addcar").height();
                    var increase =  addcarht - imght;
                    $("addcar").height(increase);
                    //  var img = document.getElementById('camera_image');
                    //  img.style.visibility = "hidden";
                    var pagetarget = $("#page");

                    setTimeout(function() {
                      document.getElementById("cars").disabled = false;
                      document.getElementById("trucks").disabled = false;
                      document.getElementById("suvs").disabled = false;
                      document.getElementById("crossovers").disabled = false;
                      $('#specific2 select').attr('disabled', 'disabled');
                      $('#specific3 select').attr('disabled', 'disabled');
                      $('#specific2 select').css("opacity", ".4");
                      $('#specific3 select').css("opacity", ".4");
                      setTimeout(function() {
                        $('#page').scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'auto',
                            'overflow-y': 'hidden'
                          });
                          setTimeout(function() {
                            $("#specific1").hide();
                            $("#specific2").hide();
                            $("#specific3").hide();
                            setTimeout(function() {

                              pagetarget.scrollTop(0);
                              setTimeout(function() {
                                pagetarget.css({
                                  '-webkit-overflow-scrolling': 'touch',
                                  'overflow-y': 'auto'
                                });


                              }, 0);
                            }, 0);
                          }, 0);
                        }, 0);

                      }, 0);
                    }, 0);

                    working("off");
                  }

                  navigator.notification.alert(
                    'Your new vehicle has been added successfully!',
                    alertDismissed,
                    'fTHRU',
                    'OK'
                  );



                },
                cache: false,
                contentType: false,
                processData: false,
                error: function(jqXHR, textStatus, errorThrown) {

                  function alertDismissed() {
                    $("#testForm2")[0].reset();
                    $("#camera_status").text('');
                    $("#camera_image").attr("src", "");
                    var img = document.getElementById('camera_image');
                    img.style.visibility = "hidden";
                    var imght = $('#camera_image').height();
                    var addcarht = $("#addcar").height();
                    var increase = addcarht - imght;
                    $("addcar").height(increase);
                    $('#page').scrollTop(0);
                    working("off");
                  }

                  navigator.notification.alert(
                    'There was a problem adding your vehicle.',
                    alertDismissed,
                    'fTHRU',
                    'OK'
                  );


                }
              });




            }



          }


        });
      });


      jQuery.validator.addMethod('selectcheck', function(value) {

        return (value != '');
      }, "This is required");
    </script>
    <style>
      #commentForm {
        width: 500px;
      }

      #commentForm label {
        width: 250px;
      }

      #commentForm label.error,
      #commentForm input.submit {
        margin-left: 253px;
      }

      #signupForm {
        width: 670px;
      }

      #signupForm label.error {
        margin-left: 10px;
        width: auto;
        display: inline;
      }

      #newsletter_topics label.error {
        display: none;
        margin-left: 103px;
      }
    </style>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
    <script type="text/javascript" charset="utf-8">
      var deviceReady = false;

      function takePicture() {
        navigator.camera.getPicture(
          function(uri) {

            var img = document.getElementById('camera_image');
            img.style.visibility = "visible";
            img.style.display = "block";
            img.src = uri;
            var imght = $('#camera_image').height();
            var addcarht = $("#addcar").height();
            var increase = imght + addcarht;
            $("addcar").height(increase);
            var filename = uri.substr(uri.lastIndexOf("/") + 1);
            document.getElementById("fileToUpload").value = filename;
            document.getElementById('camera_status').innerHTML = "Success";
          },
          function(e) {
            console.log("Error getting picture: " + e);
            document.getElementById('camera_status').innerHTML = "Error getting picture.";
          }, {
            quality: 70,
            targetWidth: 800,
            targetHeight: 600,
            correctOrientation: true,
            encodingType: Camera.EncodingType.JPEG,
            destinationType: navigator.camera.DestinationType.FILE_URI
          });
      };

      function selectPicture() {
        navigator.camera.getPicture(
          function(uri) {
            var img = document.getElementById('camera_image');
            img.style.visibility = "visible";
            img.style.display = "block";
            img.src = uri;
            var imght = $('#camera_image').height();
            var addcarht = $("#addcar").height();
            var increase = imght + addcarht;
            $("addcar").height(increase);
            var filename = uri.substr(uri.lastIndexOf("/") + 1);
            document.getElementById("fileToUpload").value = filename;
            document.getElementById('camera_status').innerHTML = "Success";
          },
          function(e) {
            console.log("Error getting picture: " + e);
            document.getElementById('camera_status').innerHTML = "Error getting picture.";
          }, {
            quality: 70,
            targetWidth: 800,
            targetHeight: 600,
            destinationType: navigator.camera.DestinationType.FILE_URI,
            sourceType: navigator.camera.PictureSourceType.PHOTOLIBRARY
          });
      };


      function uploadPicture() {

        var img = document.getElementById('camera_image');
        var imageURI = img.src;
        if (!imageURI || (img.style.display == "none")) {
          document.getElementById('camera_status').innerHTML = "Take picture or select picture from library first.";
          working("off");
          return;
        }

        var server = document.getElementById('serverUrl').value;
        server = server + "?id=" + id;
        if (server) {
          var randomnumdec = Math.random();
          var randomnum = randomnumdec.toString().split(".")[1];
          var newimageid = new Date().getTime() + randomnum;
          var options = new FileUploadOptions();
          var newimagename = newimageid + imageURI.substr(imageURI.lastIndexOf('/') + 1);
          options.fileKey = "data";
          options.fileName = newimageid;
          options.mimeType = "image/jpeg";
          options.chunkedMode = false;

          var ft = new FileTransfer();
          // alert(server);
          ft.upload(imageURI, server, function(r) {

            document.getElementById('camera_status').innerHTML = "Upload successful: " + r.bytesSent + " bytes uploaded.";
            document.getElementById("fileToUpload").value = newimageid + ".jpg";
            submitcar();
          }, function(error) {
            document.getElementById('camera_status').innerHTML = "Upload failed: Code = " + error.code;
            working("off");
          }, options);
        }
      }

      function viewUploadedPictures() {

        server = document.getElementById('serverUrl').value;
        server = server + "?id=" + id;
        if (server) {

          var xmlhttp = new XMLHttpRequest();
          xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState === 4) {
              if (xmlhttp.status === 200) {
                document.getElementById('server_images').innerHTML = xmlhttp.responseText;
              } else {
                document.getElementById('server_images').innerHTML = "Error retrieving pictures from server.";
              }
            }
          };
          xmlhttp.open("GET", server, true);
          xmlhttp.send();
        }
      }


      function init() {

      }
    </script>

  </head>



  <body onload="init();">
    <div id="dvLoading"></div>

    <div id="forgot" >
      <form id="forgotForm" onsubmit="return forgotpass();">
        <div id="forgotmessage" > Forgot Password? No Worries, you can reset it!</div>

        <div class="fldstyle" >
          <input id="email" type="text" name="email" style="text-transform: lowercase !important;width: 90%;/* padding-right: 75px; */box-shadow: -2px 0px 6px 1px;" placeholder="Email Address" class="myinputs" autocapitalize="off">
        </div>

        <!-- <button class="bluebtn myinputs" type="submit" style="
    display: none;
">&lt;&lt; Submit &gt;&gt;</button> -->
        <div id="forgotmessage2" >Enter account email and tap the question mark!</div>
        <div type="submit" id="forgottab"> <i class="fa fa-question-circle"></i></div>
      </form>
    </div>
    <div id="appheader">
      <!-- <div style=" position: absolute; top: -8px; margin: 18px 29px 12px 4% !important; " class="hdr_back"> -->

        <i id="settingsicon" class="fa fa-bars fa-3x myinputs"  onclick="javascript:settings();"></i>

      <!-- </div> -->
      <!-- <div style="position: absolute;
		top: -2px; margin: 13px 30px 13px 80% !important; " class="hdr_back"> -->
    <i id="logoff" class="fa fa-sign-out fa-3x myinputs" onclick="javascript:logoff();"></i>
<!-- </div> -->
      <div id="nav_hdr">
        <!-- <a href="#" onclick="goBack();" ><img src="images/header_back.png" class="hdr_back" /></a> -->
        <center>
          <div id="hdr_title" ><img src="logo.png" height="110px"></div>
        </center>
      </div>

      <div id="tabs" class="font_PNbold" style="">
        <ul id="top_menu">
          <li id="tm_map" class=""><img src="add_user.png" ></li>
          <li id="tm_pro" class=""><img src="viewuser.png" ></li>
          <li id="tm_fri" class=""><img src="addcar.png" ></li>
          <li id="tm_home" class=""> <img src="viewcar.png" ></li>
          <li id="tm_mtch" class=""><img src="match.png" ></li>
        </ul>
      </div>
    </div>

    <div id="regheader">

      <div id="nav_hdr">
        <i id="back" class="fa fa-arrow-left fa-3x myinputs"  onclick="javascript:back();"></i>
        <!-- <a href="#" onclick="goBack();" ><img src="images/header_back.png" class="hdr_back" /></a> -->
        <center>
          <div id="hdr_title" ><img src="logo.png"></div>
        </center>
      </div>

      <div id="tabs" class="font_PNbold" style="">
        <div id="tabtext">
          Please register below to gain access to fTHRU!
        </div>
      </div>
    </div>
    <div id="welcome"> <span></span></div>

    <div id="container">

      <div id="connecting" >Connecting to Server...</div>

      <div id="working" > Processing Request... &nbsp;&nbsp;<i class="fa fa-refresh fa-spin"></i></div>

      <div id="page">




        <div id="start" class="appscreen" style="display:none;">
          <div id="register">
            <button class="bluebtn myinputs" onclick="reg();">Free Registration <i class="fa fa-user-plus"></i></button>


          </div>

          <div id="login">
            <br>
            <br>
            <br>

            <form id="loginForm" onsubmit="return processLogin();">
              <div class="fldstyle">
                <input id="loginemail" type="text" name="email" style="text-transform: lowercase !important;" placeholder="Email Address" class="myinputs" autocapitalize="off" />
              </div>
              <br />
              <div class="fldstyle">
                <input type="password" id="pw" name="password" class="myinputs" placeholder="password" />
              </div>
              <button class="bluebtn myinputs" type="submit">Log In <i class="fa fa-cog fa-spin"></i></button>
            </form>
            <br>
            <hr>

          </div>
        </div>


        <div id="settings" class="appscreen" style="display:none;">


          <div class="slidehome" style="z-index:3;">


            <div class="cnt_clr">
              <form id="settingsForm" action="http://development.fthru.cogni.design/www/settings.php?action=put&id=" method="post">

                <table class="home_top">
                  <tr>
                    <td class="full">
                      <div class="h1px"></div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <center> <i class="fa fa-user fa-lg"></i></center>
                      <p style="color:black;">First name:</p>
                      <input type="text" name="firstname" tabindex="1" style="" class="ss-item-required myinputs" required>

                    </td>
                  </tr>
                  <tr>
                    <td>

                      <p style="color:black;">Last name:</p>
                      <input type="text" name="lastname" tabindex="2" style="" class="ss-item-required myinputs" required>

                    </td>
                  </tr>
                  <tr>
                    <td>

                      <p style="color:black;">Phone:</p>



                      <input id="phone" name="phone" tabindex="3" type="tel" class="required phone ss-item-required myinputs"  value="" style=" width: 100%;

              background: #fff;
              border: 1px solid rgba(0, 0, 0, .2);
              border-radius: 3px;
              box-shadow: 0 1px 1px rgba(255, 255, 255, .2), inset 0 1px 1px rgba(0, 0, 0, .1);
              -webkit-appearance: none;
              box-sizing: border-box;" required>
                      <br>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <center style="    background: rgba(255, 255, 255, 0.48);
                border: rgb(125, 125, 226);
                border-style: solid;
                border-width: 5px 0 5px 0;
                padding: 10px;    margin-bottom: 10px;">
                        <i style="padding-top:10px;" class="fa fa-sign-in fa-lg"></i>
                        <table style="width:100%;">
                          <tr>
                            <td style="width:100%;">
                              <p style="color:black;">Email:</p>
                              <input type="text" name="email" tabindex="4" style="text-transform: lowercase !important;" class="ss-item-required myinputs" required>

                            </td>
                          </tr>
                          <tr>
                            <td style="width:100%;">
                              <center>
                                <hr>
                              </center>
                              <td>
                          </tr>
                          <tr id="changepass">
                            <td style="width:100%;">
                              <center>
                                <div id='changepassword' class='bluebtn2 myinputs'  onclick='javascript:changepass();'>Change Password</div>

                              </center>
                            </td>
                          </tr>


                          <tr class="showpass" style="display:none;">
                            <td style="width:100%;">

                              <p style="color:black;">Password:</p>
                              <input type="password" id="password1" name="password1" tabindex="5" style="" class="ss-item-required myinputs" required>

                            </td>
                          </tr>

                          <tr class="showpass" style="display:none;">
                            <td style="width:100%;">

                              <p style="color:black;">Confirm Password:</p>
                              <input type="password" id="confirm" name="confirm" tabindex="6" style="" class="ss-item-required myinputs" required>

                            </td>
                          </tr>




                        </table>
                      </center>
                      </td>
                  </tr>
                  <tr>
                    <td style="width:100%;">
                      <center><i style="padding-top:10px;" class="fa fa-car fa-lg"></i></center>
                      <p style="color:black;">Dealership Name:</p>
                      <input type="text" name="dealer" tabindex="7" style="" class="ss-item-required myinputs" required>

                    </td>
                  </tr>



                  <tr>
                    <td>
                      <br>

                      <center>
                        <table style="width:100%;">
                          <tr>
                            <td style="width:50%;">
                              <input type="submit" value="Update" class="bluebtn myinputs" style="width:100%;">
                            </td>
                            <td style="width:50%;">
                              <input type="button" value="Cancel" class="redbtn myinputs" onclick="javascript:cancelsettings();" style="width:100%;">
                            </td>
                          </tr>
                        </table>
                      </center>


                    </td>
                  </tr>
                </table>
              </form>
            </div>


          </div>





        </div>










        <div id="reg" class="appscreen" style="display:none;">


          <div class="slidehome" style="z-index:3;">


            <div class="cnt_clr">
              <form id="regForm" action="http://development.fthru.cogni.design/www/reg.php" method="post">

                <table class="home_top">
                  <tr>
                    <td class="full">
                      <div class="h1px"></div>
                    </td>
                  </tr>

                  <tr>
                    <td>
                      <center> <i class="fa fa-user fa-lg"></i></center>
                      <p style="color:black;">First name:</p>
                      <input type="text" name="firstname" tabindex="1" style="" class="ss-item-required myinputs" required>

                    </td>
                  </tr>
                  <tr>
                    <td>

                      <p style="color:black;">Last name:</p>
                      <input type="text" name="lastname" tabindex="2" style="" class="ss-item-required myinputs" required>

                    </td>
                  </tr>
                  <tr>
                    <td>

                      <p style="color:black;">Phone:</p>



                      <input id="phone" name="phone" tabindex="3" type="tel" class="required phone ss-item-required myinputs"  value="" style=" width: 100%;
              height: 40px;
              padding: 10px;
              margin-bottom: 10px;
              background: #fff;
              border: 1px solid rgba(0, 0, 0, .2);
              border-radius: 3px;
              box-shadow: 0 1px 1px rgba(255, 255, 255, .2), inset 0 1px 1px rgba(0, 0, 0, .1);
              -webkit-appearance: none;
              box-sizing: border-box;" required>
                      <br>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <center style="    background: rgba(255, 255, 255, 0.48);
                border: rgb(125, 125, 226);
                border-style: solid;
                border-width: 5px 0 5px 0;
                padding: 10px;    margin-bottom: 10px;">
                        <i style="padding-top:10px;" class="fa fa-sign-in fa-lg"></i>
                        <table style="width:100%;">
                          <tr>
                            <td style="width:100%;">
                              <p style="color:black;">Email:</p>
                              <input type="text" name="email" tabindex="4" style="text-transform: lowercase !important;" class="ss-item-required myinputs" required>

                            </td>
                          </tr>
                          <tr>
                            <td style="width:100%;">
                              <center>
                                <hr>
                              </center>
                              <td>
                          </tr>
                          <tr>
                            <td style="width:100%;">

                              <p style="color:black;">Create Password:</p>
                              <input type="password" id="password1" name="password1" tabindex="5" style="" class="ss-item-required myinputs" required>

                            </td>
                          </tr>

                          <tr>
                            <td style="width:100%;">

                              <p style="color:black;">Confirm Password:</p>
                              <input type="password" name="confirm" tabindex="6" style="" class="ss-item-required myinputs" required>

                            </td>
                          </tr>




                        </table>
                      </center>
                      </td>
                  </tr>
                  <tr>
                    <td style="width:100%;">
                      <center><i style="padding-top:10px;" class="fa fa-car fa-lg"></i></center>
                      <p style="color:black;">Dealership Name:</p>
                      <input type="text" name="dealer" tabindex="7" style="" class="ss-item-required myinputs" required>

                    </td>
                  </tr>



                  <tr>
                    <td>
                      <br>
                      <center>
                        <input type="submit" value="<< Register >>" class="bluebtn myinputs" style="width:100%;">
                      </center>


                    </td>
                  </tr>
                </table>
              </form>
            </div>


          </div>





        </div>










        <div id="home" class="appscreen" style="display:none;">


          <div class="slidehome" style="z-index:3;">


            <div class="cnt_clr">
              <form id="testForm" action="http://development.fthru.cogni.design/www/insert.php" method="post">

                <table class="home_top">
                  <tr>
                    <td class="full">
                      <div class="h1px"></div>
                    </td>
                  </tr>

                  <tr>
                    <td>

                      <div>


                        <p style="color:black;">First name:</p>
                        <input type="text" name="firstname" tabindex="1" style="" class="ss-item-required myinputs" required>

                    </td>
                  </tr>
                  <tr>
                    <td>

                      <p style="color:black;">Last name:</p>
                      <input type="text" name="lastname" tabindex="2" style="" class="ss-item-required myinputs" required>

                    </td>
                  </tr>
                  <tr>
                    <td>

                      <p style="color:black;">Phone:</p>



                      <input id="phone" name="phone" tabindex="3" type="tel" class="required phone ss-item-required myinputs"  value="" style=" width: 100%;

										margin-bottom: 10px;
										background: #fff;
										border: 1px solid rgba(0, 0, 0, .2);
										border-radius: 3px;
										box-shadow: 0 1px 1px rgba(255, 255, 255, .2), inset 0 1px 1px rgba(0, 0, 0, .1);
										-webkit-appearance: none;
										box-sizing: border-box;" required>
                      <br>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <center style="    background: rgba(255, 255, 255, 0.48);
    border: rgb(125, 125, 226);
    border-style: solid;
    border-width: 5px 0 5px 0;
    padding: 2%;
    color:black !important;">
                        <p style="color:black;">Type of Vehicle:</p>

                        <div id="error"></div>
                        <table tabindex="4" style="width:100%;">
                          <tr>
                            <td style="width:25%;">
                              <center>
                                <label class="bigtouch" for="cars">
                                  <input type="checkbox" name="type[]" value="Cars" id="cars" class="others myinputs" style="" />
                                  <br>Cars</label>
                              </center>

                            </td>
                            <td style="width:25%;">
                              <center>
                                <label class="bigtouch" for="trucks">
                                  <input type="checkbox" name="type[]" value="Trucks" id="trucks" class="others myinputs" style="" />
                                  <br>Trucks</label>
                              </center>

                            </td>
                            <td style="width:25%;">
                              <center>
                                <label class="bigtouch" for="suvs">
                                  <input type="checkbox" name="type[]" value="SUVS" id="suvs" class="others myinputs" style="" />
                                  <br>SUVs</label>
                              </center>

                            </td>
                            <td style="width:25%;">

                              <center>
                                <label class="bigtouch" for="crossovers">
                                  <input type="checkbox" name="type[]" value="Crossovers" id="crossovers" class="others myinputs" style="" />
                                  <br>Crossovers</label>
                              </center>

                            </td>
                          </tr>
                          <tr>
                            <td colspan=4 style="width:100%;">
                              <center>
                                <hr>OR
                                <hr>
                              </center>
                              <td>
                          </tr>
                          <tr>
                            <td colspan=4 style="width:100%;">

                              <center>
                                <label class="bigtouch" for="specific">
                                  <input type="checkbox" name="type[]" id="specific" value="Specific" class="specific myinputs" style="" />
                                  <br>Specific</label>
                              </center>

                            </td>
                          </tr>





                          <tr>
                            <td colspan=4 style="width:100%;">
                              <div id="specific1" style="display:none;">
                                <select id="years" name="years" class="ss-item-required myinputs" required>

                                  <option value="">Select Year</option>
                                  <option>1990</option>
                                  <option>1991</option>
                                  <option>1992</option>
                                  <option>1993</option>
                                  <option>1994</option>
                                  <option>1995</option>
                                  <option>1996</option>
                                  <option>1997</option>
                                  <option>1998</option>
                                  <option>1999</option>
                                  <option>2000</option>
                                  <option>2001</option>
                                  <option>2002</option>
                                  <option>2003</option>
                                  <option>2004</option>
                                  <option>2005</option>
                                  <option>2006</option>
                                  <option>2007</option>
                                  <option>2008</option>
                                  <option>2009</option>
                                  <option>2010</option>
                                  <option>2011</option>
                                  <option>2012</option>
                                  <option>2013</option>
                                  <option>2014</option>
                                  <option>2015</option>
                                  <option>2016</option>
                                </select>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td colspan=4 style="width:100%;">
                              <div id="specific2" style="display:none;">

                                <select id="makes" name="makes" required class="ss-item-required myinputs">
                                  <option value="">Select Make</option>
                                </select>
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <td colspan=4 style="width:100%;">
                              <div id="specific3" style="display:none;">

                                <select id="models" name="models" required class="ss-item-required myinputs">
                                  <option value="">Select Model</option>
                                </select>

                              </div>
                            </td>
                          </tr>
                        </table>
                      </center>
                      </td>
                      <tr>
                        <td colspan=100 style="width:100%;">

                          <center>
                            <table style="width:100%;">
                              <tr>
                                <td style="width:50%;">
                                  <center>
                                    <p style="color:black;"> Low Price:</p>
                                    <div class="pricewrapper">
                                      <input id="pricelow" class="myinputs" name="pricelow" tabindex="5" type="tel" step="1" value="Low Price" onfocus="if (this.value == 'Low Price') {this.value = '';}" onblur="if (this.value == '') "
                                        class="ss-item-required" required />
                                    </div>
                                    <br>
                                    <div id="pricelowerror"></div>
                                  </center>
                                </td>
                                <td style="width:50%;">
                                  <center>
                                    <p style="color:black;"> High Price:</p>
                                    <div class="pricewrapper">
                                      <input id="pricehigh" class="myinputs" name="pricehigh" tabindex="6" type="tel" step="1" value="High Price" onfocus="if (this.value == 'High Price') {this.value = '';}" onblur="if (this.value == '') "
                                        class="ss-item-required" required />
                                    </div>
                                    <br>
                                    <div id="pricehigherror"></div>
                                  </center>
                                </td>
                              </tr>
                            </table>
                          </center>


                        </td>
                      </tr>
                      <tr>
                        <td>

                          <center>
                            <input type="submit" value="<< Submit >>" class="bluebtn myinputs" style="width:95%;">
                          </center>


                        </td>
                      </tr>
                </table>
              </form>
              <div id="keyboard" style="width:100%; height:500px;display:none;"></div>
              </div>


            </div>





          </div>








          <div id="edit" class="appscreen" style="display:none;">



            <div class="slidehome" style="z-index:3;">


              <div class="cnt_clr">
                <form id="editForm" action="http://development.fthru.cogni.design/www/updater.php" method="post">

                  <table class="home_top">
                    <tr>
                      <td class="full">
                        <div class="h1px"></div>
                      </td>
                    </tr>

                    <tr>
                      <td colspan="3">

                        <div style="padding: 2px 4px 3px 4px;">

                          <p style="color:black;">First name:</p>
                          <input type="text" name="firstname" tabindex="1" style="" class="ss-item-required myinputs" required>

                      </td>
                    </tr>
                    <tr>
                      <td>

                        <p style="color:black;">Last name:</p>
                        <input type="text" name="lastname" tabindex="2" style="" class="ss-item-required myinputs" required>

                      </td>
                    </tr>
                    <tr>
                      <td>

                        <p style="color:black;">Phone:</p>

                        <input id="contactid" name="contactid" type="hidden">
                        <input id="phone" name="phone" tabindex="3" type="tel" class="required phone ss-item-required myinputs"  value="" style=" width: 100%;
										height: 40px;
										padding: 10px;
										margin-bottom: 10px;
										background: #fff;
										border: 1px solid rgba(0, 0, 0, .2);
										border-radius: 3px;
										box-shadow: 0 1px 1px rgba(255, 255, 255, .2), inset 0 1px 1px rgba(0, 0, 0, .1);
										-webkit-appearance: none;
										box-sizing: border-box;" required>
                        <br>

                      </td>
                    </tr>
                    <tr>
                      <td>
                        <center style="    background: rgba(255, 255, 255, 0.48);
    border: rgb(125, 125, 226);
    border-style: solid;
    border-width: 5px 0 5px 0;
    padding: 2%;
    color:black !important;">
                          <p style="color:black;">Type of Vehicle:</p>

                          <div id="error"></div>
                          <table tabindex="4" style="width:100%;">
                            <tr>
                              <td style="width:25%;">

                                <center>
                                  <label class="bigtouch" for="cars">
                                    <input type="checkbox" name="type[]" value="Cars" id="cars" class="others myinputs" style="" />
                                    <br>Cars</label>
                                </center>

                              </td>
                              <td style="width:25%;">

                                <center>
                                  <label class="bigtouch" for="trucks">
                                    <input type="checkbox" name="type[]" value="Trucks" id="trucks" class="others myinputs" style="" />
                                    <br>Trucks</label>
                                </center>


                              </td>
                              <td style="width:25%;">

                                <center>
                                  <label class="bigtouch" for="suvs">
                                    <input type="checkbox" name="type[]" value="SUVS" id="suvs" class="others myinputs" style="" />
                                    <br>SUVS</label>
                                </center>

                              </td>
                              <td style="width:25%;">
                                <center>
                                  <label class="bigtouch" for="crossovers">
                                    <input type="checkbox" name="type[]" value="Crossovers" id="crossovers" class="others myinputs" style="" />
                                    <br>Crossovers</label>
                                </center>
                              </td>
                            </tr>
                            <tr>
                              <td colspan=4 style="width:100%;">
                                <center>
                                  <hr>OR
                                  <hr>
                                </center>
                                <td>
                            </tr>
                            <tr>
                              <td colspan=4 style="width:100%;">
                                <center>
                                  <label class="bigtouch" for="specific">
                                    <input type="checkbox" name="type[]" tabindex="5" value="Specific" id="specific" class="specific myinputs" style="" />
                                    <br>Specific</label>
                                </center>
                              </td>
                            </tr>
                            <tr>
                              <td colspan=4 style="width:100%;">





                                <div id="specific1" style="display:none;">
                                  <select id="years" name="years" class="ss-item-required myinputs" required>

                                    <option value="">Select Year</option>
                                    <option>1990</option>
                                    <option>1991</option>
                                    <option>1992</option>
                                    <option>1993</option>
                                    <option>1994</option>
                                    <option>1995</option>
                                    <option>1996</option>
                                    <option>1997</option>
                                    <option>1998</option>
                                    <option>1999</option>
                                    <option>2000</option>
                                    <option>2001</option>
                                    <option>2002</option>
                                    <option>2003</option>
                                    <option>2004</option>
                                    <option>2005</option>
                                    <option>2006</option>
                                    <option>2007</option>
                                    <option>2008</option>
                                    <option>2009</option>
                                    <option>2010</option>
                                    <option>2011</option>
                                    <option>2012</option>
                                    <option>2013</option>
                                    <option>2014</option>
                                    <option>2015</option>
                                    <option>2016</option>
                                  </select>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td colspan=4 style="width:100%;">
                                <div id="specific2" style="display:none;">

                                  <select id="makes" name="makes" required class="ss-item-required myinputs">
                                    <option value="">Select Make</option>
                                  </select>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td colspan=4 style="width:100%;">
                                <div id="specific3" style="display:none;">

                                  <select id="models" name="models" required class="ss-item-required myinputs">
                                    <option value="">Select Model</option>
                                  </select>

                                </div>
                              </td>
                            </tr>
                          </table>
                        </center>
                        </td>
                        <tr>
                          <td colspan=100 style="width:100%;">

                            <center>
                              <table style="width:100%;">
                                <tr>
                                  <td style="width:50%;">
                                    <center>
                                      <p style="color:black;"> Low Price:</p>
                                      <div class="pricewrapper">
                                        <input id="pricelow" class="myinputs" name="pricelow" tabindex="5" type="tel" step="1" value="Low Price" onfocus="if (this.value == 'Low Price') {this.value = '';}" onblur="if (this.value == '') "
                                          class="ss-item-required" required />
                                      </div>
                                      <br>
                                      <div id="pricelowerror"></div>
                                    </center>
                                  </td>
                                  <td style="width:50%;">
                                    <center>
                                      <p style="color:black;"> High Price:</p>
                                      <div class="pricewrapper">
                                        <input id="pricehigh" class="myinputs" name="pricehigh" tabindex="6" type="tel" step="1" value="High Price" onfocus="if (this.value == 'High Price') {this.value = '';}" onblur="if (this.value == '') "
                                          class="ss-item-required" required />
                                      </div>
                                      <br>
                                      <div id="pricehigherror"></div>
                                    </center>
                                  </td>
                                </tr>
                              </table>
                            </center>

                          </td>
                        </tr>
                        <tr>
                          <td>

                            <center>
                              <table style="width:100%;">
                                <tr>
                                  <td style="width:50%;">
                                    <input type="submit" value="Update" class="bluebtn myinputs" style="width:100%;">
                                  </td>
                                  <td style="width:50%;">
                                    <input type="button" value="Cancel" class="redbtn myinputs" onclick="javascript:reloadcontacts();" style="width:100%;">
                                  </td>
                                </tr>
                              </table>
                            </center>
                          </td>
                        </tr>
                  </table>
                </form>
                </div>
              </div>

            </div>









            <div id="match" class="appscreen" style="display:none;">



              <div class="cnt_clr">

                <center>
                  <table border="1" align="center">
                    <tr>
                      <td>
                        <input class="bluebtn myinputs" type="button" id="displaymatch" value="Display New Matches" />
                      </td>
                    </tr>
                  </table>

                  <div id="hide3" style="display:none" />
                  <table id="exampledt3" class="display dt-center" style="color:black;" cellspacing="0" width="100%">
                    <thead>
                      <tr>
                        <th style="width:26% !important;">First</th>
                        <th style="width:10% !important;">Last</th>
                        <th style="width:20% !important;">Phone</th>
                        <th style="width:27% !important;">Image</th>
                        <th style="width:17% !important;">Vehicle</th>
                        <th style="width:0% !important;">Price</th>



                      </tr>
                    </thead>
                    <tfoot>
                      <tr>
                        <th style="width:26% !important;">First</th>
                        <th style="width:10% !important;">Last</th>
                        <th style="width:20% !important;">Phone</th>
                        <th style="width:27% !important;">Image</th>
                        <th style="width:17% !important;">Vehicle</th>
                        <th style="width:0% !important;">Price</th>


                      </tr>
                    </tfoot>

                  </table>
              </div>

              <br>

              <div id="responsecontainermatch" align="center" style="    background: rgba(255, 255, 255, 0.48);
    border: rgb(125, 125, 226);
    border-style: solid;
    border-width: 5px 0 5px 0;
    padding: 3%;">

              </div>
              </center>
            </div>
          </div>
          <div id="addcar" class="appscreen" style="display:none;">


            <div class="cnt_clr">

              <div style="padding: 2px 4px 3px 4px;">
                <form id="testForm2" action="http://development.fthru.cogni.design/www/insert2.php" method="post" enctype="multipart/form-data">


                  <select id="years1" name="years" tabindex="1" class="myinputs" required>
                    <option value="">Select Year</option>
                    <option>1990</option>
                    <option>1991</option>
                    <option>1992</option>
                    <option>1993</option>
                    <option>1994</option>
                    <option>1995</option>
                    <option>1996</option>
                    <option>1997</option>
                    <option>1998</option>
                    <option>1999</option>
                    <option>2000</option>
                    <option>2001</option>
                    <option>2002</option>
                    <option>2003</option>
                    <option>2004</option>
                    <option>2005</option>
                    <option>2006</option>
                    <option>2007</option>
                    <option>2008</option>
                    <option>2009</option>
                    <option>2010</option>
                    <option>2011</option>
                    <option>2012</option>
                    <option>2013</option>
                    <option>2014</option>
                    <option>2015</option>
                    <option>2016</option>
                  </select>
                  <br>
                  <select id="makes1" name="makes" tabindex="2" class="myinputs" required>
                    <option value="">Select Make</option>
                  </select>
                  <br>
                  <select id="models1" name="models" tabindex="3" class="myinputs" required>
                    <option value="">Select Model</option>
                  </select>
                  <br><br>
                  <center style="    background: rgba(255, 255, 255, 0.48);
    border: rgb(125, 125, 226);
    border-style: solid;
    border-width: 5px 0 5px 0;
    padding: 2%;">

                    <p style="color:black;">Type of Vehicle:</p>
                    <div id="error"></div>
                    <table tabindex="4" style="width:100%;">
                      <tr>
                        <td style="width:25%;">
                          <center>
                            <label class="bigtouch" for="cars" style="color:black;">
                              <input type="radio" name="type[]" id="cars" value="Cars" class="others myinputs" style="" checked="checked" />
                              <br>Car</label>
                          </center>
                        </td>
                        <td style="width:25%;">
                          <center>
                            <label class="bigtouch" for="trucks" style="color:black;">
                              <input type="radio" name="type[]" id="trucks" value="Trucks" class="others myinputs" style="" />
                              <br>Truck</label>
                          </center>
                        </td>
                        <td style="width:25%;">
                          <center>
                            <label class="bigtouch" for="suvs" style="color:black;">
                              <input type="radio" id="suvs" name="type[]" value="SUVs" class="others myinputs" style="" />
                              <br>SUV</label>
                          </center>
                        </td>
                        <td style="width:25%;">
                          <center>
                            <label class="bigtouch" for="crossovers" style="color:black;">
                              <input type="radio" id="crossovers" name="type[]" value="Crossovers" class="others myinputs" style="" />
                              <br>Crossover</label>
                          </center>
                        </td>
                      </tr>


                    </table>
                  </center>
                  <center>
                    <table style="width:100%;">
                      <tr>
                        <td style="width:100%;">
                          <center>
                            <!-- <p style="color:black;">Price:</p> -->
                            <div class="pricewrapper2">
                              <input type="tel" step="1" id="askingprice" name="price" tabindex="5" class="myinputs" style="width:55vw;" placeholder="Asking Price" required />
                            </div>

                            <div id="priceerror"></div>




                          </center>
                        </td>
                      </tr>
                    </table>

                    <input id="serverUrl" type="hidden" value="http://development.fthru.cogni.design/www/upload.php" />

                  </center>

                  <center style="    background: rgba(255, 255, 255, 0.48);
    border: rgb(125, 125, 226);
    border-style: solid;
    border-width: 5px 0 5px 0;
    padding: 3%;">

                    <div>
                      <table tabindex="6" style="width:100%;">
                        <tr>
                          <td style="width:50%;">
                            <center>
                              <input class="bluebtn2 myinputs" type="button" style="font-family: FontAwesome;" onclick="takePicture();" value="&#xf030; Camera" />
                            </center>
                          </td>
                          <td style="width:50%;">
                            <center>
                              <input class="bluebtn2 myinputs" type="button" style="font-family: FontAwesome;" onclick="selectPicture();" value="&#xf07c; Gallery" />
                            </center>
                          </td>
                        </tr>
                      </table>

                      <div>


                        <img style="width:80vw;height:40vw;margin-top:5%;visibility:hidden;display:none;" id="camera_image" src="" />
                      </div>
                      <br><span style="color:black;">Status:</span> <span id="camera_status" style="color:black;"></span>
                      <br>
                      <!-- <input class="bluebtn2 myinputs" type="button" style="font-family: FontAwesome;font-size: 1.1em;
padding-left: 15px;
zoom: 1.5;width: 50vw !important;" onclick="uploadPicture();" value="&#xf0ee; Upload" /> -->

                    </div>
                  </center>
                  <input type="hidden" name="fileToUpload" id="fileToUpload" value="">

                  <center>
                    <input type="submit" value="<< Submit >>" class="bluebtn" style="width:95%;">
                  </center>
                </form>
              </div>




            </div>

          </div>
          <div id="viewuser" class="appscreen" style="display:none;">


            <center>
              <div id="hide" style="display:none" />
              <table id="exampledt" class="display dt-center" style="color:black;" cellspacing="0" width="100%">
                <thead>
                  <tr>
                    <th style="width:26% !important;">Name</th>
                    <th style="width:36% !important;">Phone</th>
                    <th style="width:38% !important;">Wants</th>
                    <th style="width:0% !important;">Last</th>
                    <th style="width:0% !important;">Price Low</th>
                    <th style="width:0% !important;">Price High</th>
                    <th style="width:0% !important;">Make</th>
                    <th style="width:0% !important;">Model</th>
                    <th style="width:0% !important;">User ID</th>
                    <th style="width:0% !important;">Status</th>
                    <th style="width:0% !important;">ID</th>
                    <th style="width:0% !important;">Year</th>
                    <th style="width:0% !important;">Permission</th>
                    <th style="width:0% !important;">First</th>
                    <th style="width:0% !important;">Category</th>

                  </tr>
                </thead>
                <tfoot>
                  <tr>
                    <th style="width:26% !important;">Name</th>
                    <th style="width:36% !important;">Phone</th>
                    <th style="width:38% !important;">Wants</th>
                    <th style="width:38% !important;">Last</th>
                    <th style="width:0% !important;">Price Low</th>
                    <th style="width:0% !important;">Price High</th>
                    <th style="width:0% !important;">Make</th>
                    <th style="width:0% !important;">Model</th>
                    <th style="width:0% !important;">User ID</th>
                    <th style="width:0% !important;">Status</th>
                    <th style="width:0% !important;">ID</th>
                    <th style="width:0% !important;">Year</th>
                    <th style="width:0% !important;">Permission</th>
                    <th style="width:0% !important;">First</th>
                    <th style="width:0% !important;">Category</th>
                  </tr>
                </tfoot>

              </table>
          </div>
          <div id="responsecontaineruser" align="center" style="display:none;">

          </div>
          </center>




        </div>

        <div id="viewcar" class="appscreen" style="display:none;">





          <center>
            <div id="hide2" style="display:none" />
            <table id="exampledt2" class="display dt-center" style="color:black;" cellspacing="0" width="100%">
              <thead>
                <tr>
                  <th style="width:26% !important;">Image</th>
                  <th style="width:10% !important;">Year</th>
                  <th style="width:20% !important;">Make</th>
                  <th style="width:27% !important;">Model</th>
                  <th style="width:17% !important;">Price</th>
                  <th style="width:0% !important;">Status</th>
                  <th style="width:0% !important;">ID</th>
                  <th style="width:0% !important;">Type</th>


                </tr>
              </thead>
              <tfoot>
                <tr>
                  <th style="width:26% !important;">Image</th>
                  <th style="width:10% !important;">Year</th>
                  <th style="width:20% !important;">Make</th>
                  <th style="width:27% !important;">Model</th>
                  <th style="width:17% !important;">Price</th>
                  <th style="width:0% !important;">Status</th>
                  <th style="width:0% !important;">ID</th>
                  <th style="width:0% !important;">Type</th>


                </tr>
              </tfoot>

            </table>
        </div>
        <div id="responsecontainercar" align="center" style="display:none;">

        </div>
        </center>




      </div>

    </div>

    </div>
    <script type='text/javascript'>
      $(".specific").change(function() {
        if (this.checked) {
          document.getElementById("cars").disabled = true;
          document.getElementById("trucks").disabled = true;
          document.getElementById("suvs").disabled = true;
          document.getElementById("crossovers").disabled = true;
          document.getElementById("cars").checked = false;
          document.getElementById("trucks").checked = false;
          document.getElementById("suvs").checked = false;
          document.getElementById("crossovers").checked = false;

          document.getElementById('specific1').style.display = '';
          document.getElementById('specific2').style.display = '';
          document.getElementById('specific3').style.display = '';
          $('#specific2 select').attr('disabled', 'disabled');
          $('#specific3 select').attr('disabled', 'disabled');
          $('#specific2 select').css("opacity", ".4");
          $('#specific3 select').css("opacity", ".4");
        } else {

          var pagetarget = $("#page");
          $('#years').val(function() {
            return $('#years').defaultValue;
          });
          $('#makes').val(function() {
            return $('#makes').defaultValue;
          });
          $('#models').val(function() {
            return $('#models').defaultValue;
          });
          setTimeout(function() {
            document.getElementById("cars").disabled = false;
            document.getElementById("trucks").disabled = false;
            document.getElementById("suvs").disabled = false;
            document.getElementById("crossovers").disabled = false;
            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                pagetarget.css({
                  '-webkit-overflow-scrolling': 'auto',
                  'overflow-y': 'hidden'
                });
                setTimeout(function() {
                  $("#specific1").hide();
                  $("#specific2").hide();
                  $("#specific3").hide();
                  setTimeout(function() {

                    pagetarget.scrollTop(0);
                    setTimeout(function() {
                      pagetarget.css({
                        '-webkit-overflow-scrolling': 'touch',
                        'overflow-y': 'auto'
                      });


                    }, 0);
                  }, 0);
                }, 0);
              }, 0);

            }, 0);
          }, 0);



        }
      });
      $(document).ready(function() {
        // setTimeout(function(){
        //   $("input").blur();
        // },500);

        window.currentHeight = $(this).height();
        window.scrollHeight = window.currentHeight/2;
        var buttonpressed = false;
        // function keyboardHideHandler(){
        //   alert("closed");
        //   var closestdiv = $("div.appscreen").not(":hidden")
        //   closestdiv.height(window.currentHeight);
        // }
        //
        // window.addEventListener('native.hidekeyboard', keyboardHideHandler);
        $(".bluebtn, .bluebtn2, .redbtn").bind("touchstart",function(){
          buttonpressed = true;
        });

        $("input[type=text],input[type=password],input[type=number],input[type=tel]").
        bind("blur closeKeyboard", function(e) {
          if (!buttonpressed){
            var closestdiv = $("div.appscreen").not(":hidden");
            var closestdivid = closestdiv.attr('id');
            if (closestdivid == "start"){
              $("#login").css('position','absolute');
            }
            closestdiv.height(window.currentHeight);
            $("#page").scrollTo(0.0);

          }
          else{
            buttonpressed = false;
          }
        });
        // alert(window.currentHeight);
        $("input[type=text],input[type=password],input[type=number],input[type=tel]").focus(function(e){
          // e.preventDefault();
          // e.stopPropagation();
          // $('#page').scrollTop(0);
            var el = $(e.currentTarget);
            var elid = el.attr('id');
            var elh = el.height();
            var closestdiv = $("div.appscreen").not(":hidden");
            var closestdivid = closestdiv.attr('id');

            if (closestdivid == "start" && (elid == "loginemail" || elid == "pw")){
              $("#login").css('margin-top','20%');
              $("#login").css('position','relative');

            }
            // alert(closestdivid);
              closestdiv.height(window.currentHeight + window.scrollHeight);
            // alert(closestdiv.id);
            // $('<div id="keyboarddiv" style="height:'+window.scrollHeight+'px; position:absolute; bottom:0;"> new div </div>').appendTo(closestdiv);
            // $('<div id="keyboarddiv" style="height:'+window.scrollHeight+'px; position:relative; bottom:0;"> new div </div>').insertAfter(el);
              offset = window.currentHeight * .2;
            // var offset = el.offset().top
            // alert(offset);
            // alert(window.currentHeight);
              $("#page").scrollTo(el,{offset:-offset});
              //  closestdiv.height(window.currentHeight)

              //  el.onblur = function(){
              //    alert("something");
              //   //  $("#keyboarddiv").hide();
              //  }
              // var offset = -$("#page").height() + $(el).height();
              // $("#page").scrollTo(el,{offset: offset});
        });

        // $("input").onblur(function(e){
        //   $("#keyboarddiv").hide();
        // });
        //         $(input.onfocus) function(e){
        //     var el = $(e.currentTarget);
        //     var offset = -$(".scrollerWrap").height() + $(el).height();
        //     $(".scrollerWrap").scrollTo(el,{offset: offset});
        // }
        var page;
        var thepage;

        function onTouchStart(e) {

          page = this.id;
          var item = e.currentTarget;
          thepage = item.id;
          if (isTouching) return;
          e.currentTarget.moved = false;
          console.log("Start: " + e.currentTarget.innerHTML);
          isTouching = true;

          setTimeout(function() {
            if (item.moved === false) {
              item.className = "active";

            }
          }, 50);
        }

        function onTouchMove(e) {

          console.log("Move: " + $(e.currentTarget.innerText));
          e.currentTarget.moved = true;
          e.currentTarget.className = "";
        }

        function onTouchEnd(e) {
          var item = e.currentTarget;

          console.log("Stop: " + item.innerHTML);
          isTouching = false;

          if (!item.moved) { //Show the
            item.className = "selected";

            var divId = $("div.appscreen").not(":hidden").prop("id");
            var newdivId;



            switch (thepage) {
              case "tm_map":
                newdivId = "home";
                break;
              case "tm_pro":
                newdivId = "viewuser";
                break;
              case "tm_fri":
                newdivId = "addcar";
                break;
              case "tm_home":
                newdivId = "viewcar";
                break;
              case "tm_mtch":
                newdivId = "match";
                break;

            }

            var pagetarget = $("#page");
            if (divId != "start") {

              setTimeout(function() {
                $('#page').scrollTop(0);
                setTimeout(function() {
                  $("#" + divId).hide();
                  setTimeout(function() {
                    pagetarget.css({
                      '-webkit-overflow-scrolling': 'auto',
                      'overflow-y': 'hidden'
                    });
                    setTimeout(function() {
                      $('li').removeClass('active');
                      $('#tabs #' + thepage).addClass('active');
                      setTimeout(function() {
                        document.getElementById(newdivId).style.display = '';
                        setTimeout(function() {
                          pagetarget.scrollTop(0);
                          setTimeout(function() {
                            pagetarget.css({
                              '-webkit-overflow-scrolling': 'touch',
                              'overflow-y': 'auto'
                            });
                            page = "";
                            delete item.moved;
                          }, 0);
                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);

                }, 0);
              }, 0);



            }




          }









          page = "";
          delete item.moved;
        }


        var links = document.querySelectorAll("#tabs li"),

          i,
          isTouching = false;

        for (i = 0; i < links.length; ++i) {

          links[i].addEventListener("touchstart", onTouchStart);

          links[i].addEventListener("touchmove", onTouchMove);
          links[i].addEventListener("touchend", onTouchEnd);
        }









      });


      function changeit(page) {
        window.open(page + ".html", '_self');

      }
    </script>



    </div>

    <script>
      var maxTime = 1000,
        maxDistance = 150,
        target = $('#home'),
        target2 = $('#viewuser'),
        target3 = $('#addcar'),
        target4 = $('#viewcar'),
        target5 = $('#match'),
        startX = 0,
        startTime = 0,
        touch = "ontouchend" in document,
        startEvent = (touch) ? 'touchstart' : 'mousedown',
        moveEvent = (touch) ? 'touchmove' : 'mousemove',
        endEvent = (touch) ? 'touchend' : 'mouseup';

      target.bind(startEvent, function(e) {

        startTime = e.timeStamp;
        startX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX;
      }).bind(endEvent, function(e) {
        startTime = 0;
        startX = 0;
      }).bind(moveEvent, function(e) {
        var currentX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX,
          currentDistance = (startX === 0) ? 0 : Math.abs(currentX - startX),
          currentTime = e.timeStamp;
        if (startTime !== 0 && currentTime - startTime < maxTime && currentDistance > maxDistance) {
          if (currentX < startX) {

            var pagetarget = $("#page");
            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                $("#home").hide();
                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_pro').addClass('active');
                    setTimeout(function() {

                      document.getElementById('viewuser').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });

                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);





          }
          if (currentX > startX) {




            var pagetarget = $("#page");

            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                $("#home").hide();
                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_mtch').addClass('active');
                    setTimeout(function() {

                      document.getElementById('match').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });
                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);



          }
          startTime = 0;
          startX = 0;
        }
      });

      target2.bind(startEvent, function(e) {

        startTime = e.timeStamp;
        startX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX;
      }).bind(endEvent, function(e) {
        startTime = 0;
        startX = 0;
      }).bind(moveEvent, function(e) {
        var currentX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX,
          currentDistance = (startX === 0) ? 0 : Math.abs(currentX - startX),
          currentTime = e.timeStamp;
        if (startTime !== 0 && currentTime - startTime < maxTime && currentDistance > maxDistance) {
          if (currentX < startX) {


            var pagetarget = $("#page");
            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                $("#viewuser").hide();



                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_fri').addClass('active');
                    setTimeout(function() {

                      document.getElementById('addcar').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });
                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);









          }
          if (currentX > startX) {


            var pagetarget = $("#page");
            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                $("#viewuser").hide();


                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_map').addClass('active');
                    setTimeout(function() {
                      document.getElementById('home').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });
                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);









          }
          startTime = 0;
          startX = 0;
        }
      });

      target3.bind(startEvent, function(e) {

        startTime = e.timeStamp;
        startX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX;
      }).bind(endEvent, function(e) {
        startTime = 0;
        startX = 0;
      }).bind(moveEvent, function(e) {
        var currentX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX,
          currentDistance = (startX === 0) ? 0 : Math.abs(currentX - startX),
          currentTime = e.timeStamp;
        if (startTime !== 0 && currentTime - startTime < maxTime && currentDistance > maxDistance) {
          if (currentX < startX) {
            var pagetarget = $("#page");

            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                $("#addcar").hide();
                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_home').addClass('active');
                    setTimeout(function() {

                      document.getElementById('viewcar').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });
                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);







          }
          if (currentX > startX) {


            var pagetarget = $("#page");
            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                $("#addcar").hide();
                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_pro').addClass('active');
                    setTimeout(function() {

                      document.getElementById('viewuser').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });
                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);







          }
          startTime = 0;
          startX = 0;
        }
      });

      target4.bind(startEvent, function(e) {

        startTime = e.timeStamp;
        startX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX;
      }).bind(endEvent, function(e) {
        startTime = 0;
        startX = 0;
      }).bind(moveEvent, function(e) {
        var currentX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX,
          currentDistance = (startX === 0) ? 0 : Math.abs(currentX - startX),
          currentTime = e.timeStamp;
        if (startTime !== 0 && currentTime - startTime < maxTime && currentDistance > maxDistance) {
          if (currentX < startX) {

            var pagetarget = $("#page");
            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                $("#viewcar").hide();


                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_mtch').addClass('active');
                    setTimeout(function() {
                      document.getElementById('match').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });
                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);









          }
          if (currentX > startX) {


            var pagetarget = $("#page");
            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                $("#viewcar").hide();


                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_fri').addClass('active');
                    setTimeout(function() {
                      document.getElementById('addcar').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });
                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);







          }
          startTime = 0;
          startX = 0;
        }
      });

      target5.bind(startEvent, function(e) {

        startTime = e.timeStamp;
        startX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX;
      }).bind(endEvent, function(e) {
        startTime = 0;
        startX = 0;
      }).bind(moveEvent, function(e) {
        var currentX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX,
          currentDistance = (startX === 0) ? 0 : Math.abs(currentX - startX),
          currentTime = e.timeStamp;
        if (startTime !== 0 && currentTime - startTime < maxTime && currentDistance > maxDistance) {
          if (currentX < startX) {

            var pagetarget = $("#page");

            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                $("#match").hide();
                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_map').addClass('active');
                    setTimeout(function() {
                      document.getElementById('home').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });
                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);









          }
          if (currentX > startX) {


            var pagetarget = $("#page");
            setTimeout(function() {
              $('#page').scrollTop(0);
              setTimeout(function() {
                $("#match").hide();
                setTimeout(function() {
                  pagetarget.css({
                    '-webkit-overflow-scrolling': 'auto',
                    'overflow-y': 'hidden'
                  });
                  setTimeout(function() {
                    $('li').removeClass('active');
                    $('#tabs #tm_home').addClass('active');
                    setTimeout(function() {

                      document.getElementById('viewcar').style.display = '';
                      setTimeout(function() {
                        pagetarget.scrollTop(0);
                        setTimeout(function() {
                          pagetarget.css({
                            '-webkit-overflow-scrolling': 'touch',
                            'overflow-y': 'auto'
                          });
                        }, 0);
                      }, 0);
                    }, 0);
                  }, 0);
                }, 0);

              }, 0);
            }, 0);








          }
          startTime = 0;
          startX = 0;
        }
      });
    </script>
  </body>




  <script>
    $("#slider").rangeSlider({
      bounds: {
        min: 0,
        max: 50000
      },
      defaultValues: {
        min: 5000,
        max: 10000
      },
      formatter: function(val) {
        var value = Math.round(val * 5) / 5,
          decimal = value - Math.round(val);


        return "$" + value.toString();

      },
      step: 500
    });

    // var elem = document.getElementById("pricelow");
    // var elem2 = document.getElementById("pricehigh");
    // elem.value = 5000;
    // elem2.value = 10000;
    var basicvalues = $("#slider").rangeSlider("values");
    $("#slider").bind("valuesChanged", function(e, data) {
      console.log("Values just changed. min: " + data.values.min + " max: " + data.values.max);
      elem.value = data.values.min;
      elem2.value = data.values.max;
    });
  </script>

  <script type="text/javascript">
    function reloadcontacts() {

      redraw();

      var pagetarget = $("#page");

      setTimeout(function() {
        $('#page').scrollTop(0);
        setTimeout(function() {
          document.getElementById('edit').style.display = 'none';
          setTimeout(function() {
            pagetarget.css({
              '-webkit-overflow-scrolling': 'auto',
              'overflow-y': 'hidden'
            });
            setTimeout(function() {
              $('li').removeClass('active');
              $('#tabs #tm_pro').addClass('active');
              setTimeout(function() {

                document.getElementById('viewuser').style.display = '';
                setTimeout(function() {
                  pagetarget.scrollTop(0);
                  setTimeout(function() {
                    pagetarget.css({
                      '-webkit-overflow-scrolling': 'touch',
                      'overflow-y': 'auto'
                    });
                  }, 0);
                }, 0);
              }, 0);
            }, 0);
          }, 0);

        }, 0);
      }, 0);









    }
  </script>
  <script>
    function formcheck() {
      var fields = $(".ss-item-required")
        .find("select, textarea, input").serializeArray();

      $.each(fields, function(i, field) {
        if (!field.value)

        function alertDismissed() {

          errornumber = 1;
        }

        navigator.notification.alert(
          field.name + ' is required',
          alertDismissed,
          'fTHRU',
          'OK'
        );

      });
      console.log(fields);
    }
  </script>
  <script>
  </script>
  </body>

</html>
